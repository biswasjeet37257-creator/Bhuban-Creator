<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Bhuban Creator Studio</title>
    <script src="/shared/config.js?v=13.0"></script>
    <script src="/shared/pathway-manager.js?v=13.0"></script>
    <script src="/shared/pathway-monitor.js?v=13.0"></script>
    <script src="/shared/unified-auth-system.js?v=15.0"></script>
    <script src="/shared/auth-ui-components.js?v=15.0"></script>
    <script src="advanced-creator-features.js?v=15.0"></script>
    <script src="creator-studio-main.js?v=2.0"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --bg-primary: #0f0f0f;
            --bg-secondary: #1e1e1e;
            --bg-card: #252525;
            --bg-hover: #2a2a2a;
            --accent-orange: #FF4500;
            --accent-orange-light: #ff6b35;
            --accent-gradient: linear-gradient(135deg, #FF4500 0%, #ff6b35 100%);
            --text-primary: #ffffff;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-color: rgba(255, 69, 0, 0.2);
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --glow-orange: rgba(255, 69, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        }

        body {
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        /* ==========================================
           LAYOUT
           ========================================== */
        .app-container {
            display: flex;
            min-height: 100vh;
            opacity: 1;
            /* Always visible */
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: var(--bg-secondary);
            border-right: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            flex-direction: column;
            position: fixed;
            height: 100vh;
            z-index: 100;
        }

        .sidebar-header {
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .brand-logo {
            width: 40px;
            height: 40px;
            background: var(--accent-gradient);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            animation: logoPulse 3s ease-in-out infinite;
        }

        .brand-text h1 {
            font-size: 20px;
            font-weight: 900;
            letter-spacing: -0.5px;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .brand-text p {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 2px;
            font-weight: 700;
        }

        .sidebar-nav {
            flex: 1;
            padding: 16px 12px;
            overflow-y: auto;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 14px 16px;
            margin-bottom: 4px;
            border-radius: 12px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }

        .nav-item:hover {
            background: var(--bg-hover);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: rgba(255, 69, 0, 0.15);
            color: var(--accent-orange);
            border-right: 3px solid var(--accent-orange);
        }

        .nav-item i {
            width: 20px;
            text-align: center;
        }

        /* Inner Tabs Settings */
        .inner-tab {
            background: none;
            border: none;
            padding: 16px 0;
            color: var(--text-muted);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .inner-tab:hover {
            color: var(--text-primary);
        }

        .inner-tab.active {
            color: var(--accent-orange);
            border-bottom-color: var(--accent-orange);
        }

        .inner-pane {
            animation: fadeIn 0.3s ease;
        }

        .sidebar-footer {
            padding: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .user-card {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .user-card:hover {
            background: var(--bg-hover);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--accent-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 13px;
            font-weight: 600;
        }

        .user-subs {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 260px;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        .header {
            height: 70px;
            background: rgba(15, 15, 15, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .header-title {
            font-size: 20px;
            font-weight: 700;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .search-box {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 10px 16px;
            width: 280px;
        }

        .search-box i {
            color: var(--text-muted);
        }

        .search-box input {
            flex: 1;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
        }

        .search-box input::placeholder {
            color: var(--text-muted);
        }

        .upload-btn {
            background: var(--accent-gradient);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(255, 69, 0, 0.3);
        }

        .upload-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 69, 0, 0.5);
        }

        .header-btn {
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .header-btn:hover {
            border-color: var(--accent-orange);
            color: var(--accent-orange);
        }

        /* Content Area */
        .content-area {
            flex: 1;
            padding: 32px;
            overflow-y: auto;
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 24px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--accent-gradient);
            transform: scaleX(0);
            transition: transform 0.4s ease;
            z-index: 1;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            border-color: rgba(255, 69, 0, 0.3);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04), 0 0 20px rgba(255, 69, 0, 0.1);
        }

        .stat-card:hover::before {
            transform: scaleX(1);
        }

        /* Standard line-clamp support */
        .line-clamp-1 {
            display: -webkit-box;
            -webkit-line-clamp: 1;
            line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .stat-label {
            font-size: 13px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .stat-growth {
            font-size: 12px;
            font-weight: 700;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
            background: linear-gradient(to right, #fff, #94a3b8);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-subtext {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Chart Section */
        .chart-card {
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 32px;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .chart-title {
            font-size: 16px;
            font-weight: 700;
        }

        .chart-filters {
            display: flex;
            gap: 8px;
        }

        .chart-filter {
            padding: 8px 16px;
            border-radius: 50px;
            border: none;
            background: var(--bg-card);
            color: var(--text-secondary);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-filter:hover,
        .chart-filter.active {
            background: var(--accent-gradient);
            color: white;
        }

        .chart-container {
            height: 280px;
            position: relative;
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            height: 220px;
            gap: 12px;
            padding-top: 20px;
        }

        .chart-bar-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .chart-bar {
            width: 100%;
            background: var(--accent-gradient);
            border-radius: 8px 8px 0 0;
            min-height: 20px;
            position: relative;
            transition: all 0.4s ease;
            animation: barGrow 1s ease-out;
        }

        .chart-bar:hover {
            filter: brightness(1.2);
            transform: scaleY(1.05);
        }

        @keyframes barGrow {
            from {
                transform: scaleY(0);
            }

            to {
                transform: scaleY(1);
            }
        }

        .chart-label {
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Content Table */
        .content-card {
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            overflow: hidden;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .content-title {
            font-size: 18px;
            font-weight: 700;
        }

        .content-filter {
            display: flex;
            gap: 8px;
        }

        .filter-btn {
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            background: transparent;
            color: var(--text-secondary);
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--accent-gradient);
            border-color: transparent;
            color: white;
        }

        .video-table {
            width: 100%;
        }

        .table-header {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 0.5fr;
            padding: 16px 24px;
            background: var(--bg-card);
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
        }

        .video-row {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 0.5fr;
            padding: 16px 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            align-items: center;
            transition: all 0.3s ease;
        }

        .video-row:hover {
            background: var(--bg-hover);
        }

        .video-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .video-thumb {
            width: 120px;
            height: 68px;
            background: var(--bg-card);
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }

        .video-thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-thumb-overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .video-row:hover .video-thumb-overlay {
            opacity: 1;
        }

        .video-thumb-overlay i {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .video-thumb-overlay i:hover {
            background: var(--accent-orange);
        }

        .video-details h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .video-details p {
            font-size: 12px;
            color: var(--text-muted);
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            border-radius: 50px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-badge.public {
            background: rgba(16, 185, 129, 0.15);
            color: var(--success);
        }

        .status-badge.draft {
            background: rgba(100, 100, 100, 0.15);
            color: var(--text-muted);
        }

        .video-stats {
            font-size: 13px;
            font-weight: 600;
        }

        .video-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            border: none;
            background: var(--bg-card);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn:hover {
            background: var(--accent-orange);
            color: white;
        }

        /* Upload Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .upload-modal {
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow: hidden;
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
        }

        .modal-close {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: var(--bg-card);
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--error);
            color: white;
        }

        .modal-body {
            padding: 32px;
            max-height: 60vh;
            overflow-y: auto;
        }

        .upload-dropzone {
            border: 2px dashed rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 60px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .upload-dropzone:hover,
        .upload-dropzone.dragover {
            border-color: var(--accent-orange);
            background: rgba(255, 69, 0, 0.05);
        }

        .upload-dropzone i {
            font-size: 48px;
            color: var(--accent-orange);
            margin-bottom: 16px;
        }

        .upload-dropzone h3 {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .upload-dropzone p {
            font-size: 13px;
            color: var(--text-muted);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
        }

        .form-input,
        .form-textarea {
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 14px 16px;
            color: var(--text-primary);
            font-size: 14px;
            outline: none;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-textarea:focus {
            border-color: var(--accent-orange);
            box-shadow: 0 0 0 3px rgba(255, 69, 0, 0.1);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .upload-preview {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .preview-box {
            aspect-ratio: 16/9;
            background: #000;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: var(--text-muted);
        }

        .upload-progress {
            margin-top: auto;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .progress-bar {
            height: 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--accent-gradient);
            border-radius: 4px;
            width: 0%;
            transition: width 0.3s ease;
            box-shadow: 0 0 10px var(--glow-orange);
        }

        .modal-footer {
            padding: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            display: flex;
            justify-content: flex-end;
            gap: 12px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--bg-hover);
        }

        .btn-primary {
            background: var(--accent-gradient);
            color: white;
            box-shadow: 0 4px 20px rgba(255, 69, 0, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 69, 0, 0.5);
        }

        .btn-primary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* AI Quick Chips */
        .ai-quick-chip {
            padding: 8px 16px;
            background: rgba(0, 212, 255, 0.1);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 20px;
            color: #00d4ff;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .ai-quick-chip:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: rgba(0, 212, 255, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 212, 255, 0.3);
        }

        /* AI Message Styles */
        .ai-message {
            margin-bottom: 16px;
            animation: fadeIn 0.3s ease;
        }

        .ai-message.user {
            text-align: right;
        }

        .ai-message-bubble {
            display: inline-block;
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 16px;
            font-size: 14px;
            line-height: 1.5;
        }

        .ai-message.user .ai-message-bubble {
            background: linear-gradient(135deg, #00d4ff 0%, #0088ff 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .ai-message.assistant .ai-message-bubble {
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            border-bottom-left-radius: 4px;
            text-align: left;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 48px;
            height: 26px;
            flex-shrink: 0;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(255, 255, 255, 0.1);
            transition: 0.3s;
            border-radius: 26px;
            border: 1px solid var(--border-color);
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
        }

        .toggle-switch input:checked+.toggle-slider {
            background: var(--accent-gradient);
            border-color: var(--accent-orange);
        }

        .toggle-switch input:checked+.toggle-slider:before {
            transform: translateX(22px);
        }

        .toggle-switch input:disabled+.toggle-slider {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .modal-body {
                grid-template-columns: 1fr;
            }

            .upload-dropzone {
                grid-column: span 1;
            }
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: 1fr 1fr !important;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
            }

            .dashboard-grid {
                grid-template-columns: 1fr !important;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .table-header,
            .video-row {
                grid-template-columns: 1fr;
                gap: 8px;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 69, 0, 0.3);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-orange);
        }

        /* Page Sections */
        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        /* Analytics Specific */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 32px;
        }

        .metric-card {
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 20px;
            text-align: center;
        }

        .metric-value {
            font-size: 28px;
            font-weight: 800;
            color: var(--accent-orange);
            margin: 8px 0;
        }

        .metric-label {
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-link {
            transition: all 0.3s ease !important;
        }

        .btn-link:hover {
            background: rgba(255, 69, 0, 0.1) !important;
            color: var(--accent-orange) !important;
            transform: translateY(-1px);
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 1fr 1.2fr 1fr;
            gap: 24px;
            align-items: start;
        }

        /* Earn Page */
        .earnings-hero {
            background: linear-gradient(135deg, rgba(255, 69, 0, 0.2), rgba(255, 107, 53, 0.1));
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 40px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
        }

        .earnings-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255, 69, 0, 0.3), transparent 70%);
            pointer-events: none;
        }

        .earnings-title {
            font-size: 14px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .earnings-amount {
            font-size: 56px;
            font-weight: 900;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .payout-btn {
            margin-top: 24px;
            background: var(--accent-gradient);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 50px;
            font-weight: 700;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .payout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 69, 0, 0.4);
        }

        .goals-section {
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 24px;
        }

        .goals-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .goals-header i {
            color: var(--accent-orange);
            font-size: 24px;
        }

        .goal-item {
            margin-bottom: 24px;
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .goal-label {
            font-size: 14px;
            font-weight: 600;
        }

        .goal-value {
            font-size: 13px;
            color: var(--text-muted);
        }

        .goal-bar {
            height: 10px;
            background: var(--bg-card);
            border-radius: 5px;
            overflow: hidden;
        }

        .goal-fill {
            height: 100%;
            background: var(--accent-gradient);
            border-radius: 5px;
            transition: width 1s ease;
            box-shadow: 0 0 10px var(--glow-orange);
        }

        .goal-status {
            font-size: 12px;
            color: var(--success);
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Multi-step Upload Stepper */
        .stepper-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 60px;
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .stepper-line {
            position: absolute;
            top: 40px;
            left: 100px;
            right: 100px;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            z-index: 1;
        }

        .stepper-line-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: var(--accent-orange);
            width: 0%;
            transition: width 0.4s ease;
        }

        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            z-index: 2;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100px;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-card);
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 14px;
            color: var(--text-muted);
            transition: all 0.3s ease;
        }

        .step-item.active .step-circle {
            background: var(--bg-primary);
            border-color: var(--accent-orange);
            color: var(--accent-orange);
            box-shadow: 0 0 15px rgba(255, 69, 0, 0.3);
        }

        .step-item.completed .step-circle {
            background: var(--accent-orange);
            border-color: var(--accent-orange);
            color: white;
        }

        .step-label {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-muted);
            transition: all 0.3s ease;
        }

        .step-item.active .step-label {
            color: var(--text-primary);
        }

        /* Thumbnail Grid */
        .thumbnail-selection {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-top: 12px;
        }

        .thumbnail-option {
            aspect-ratio: 16/9;
            border-radius: 12px;
            border: 2px solid rgba(255, 255, 255, 0.05);
            background: var(--bg-card);
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 12px;
            position: relative;
        }

        .thumbnail-option i {
            font-size: 24px;
            margin-bottom: 8px;
            color: var(--text-muted);
        }

        .thumbnail-option span {
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
        }

        .thumbnail-option:hover {
            border-color: rgba(255, 255, 255, 0.2);
            background: var(--bg-hover);
        }

        .thumbnail-option.active {
            border-color: var(--accent-orange);
            background: rgba(255, 69, 0, 0.05);
        }

        .thumbnail-option.disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }

        .thumbnail-option.active::after {
            content: '\f058';
            font-family: 'Font Awesome 5 Free';
            font-weight: 900;
            position: absolute;
            top: 8px;
            right: 8px;
            color: var(--accent-orange);
            font-size: 16px;
        }

        .thumbnail-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }

        /* Checks Step */
        .check-container {
            padding: 20px;
        }

        .check-item {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 16px;
            margin-bottom: 20px;
        }

        .check-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .check-details h4 {
            margin-bottom: 4px;
            font-size: 16px;
        }

        .check-details p {
            color: var(--text-muted);
            font-size: 13px;
        }

        /* Visibility Step */
        .visibility-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .visibility-card {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 20px;
            background: var(--bg-card);
            border: 2px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .visibility-card:hover {
            border-color: rgba(255, 255, 255, 0.1);
            background: var(--bg-hover);
        }

        .visibility-card.active {
            border-color: var(--accent-orange);
            background: rgba(255, 69, 0, 0.05);
        }

        .visibility-card i {
            font-size: 24px;
            width: 40px;
            color: var(--accent-orange);
        }

        .visibility-info h5 {
            font-size: 15px;
            margin-bottom: 4px;
        }

        .visibility-info p {
            font-size: 12px;
            color: var(--text-muted);
        }

        /* Audience Section */
        .audience-section {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 20px;
            margin-top: 24px;
        }

        .audience-option {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-top: 16px;
            cursor: pointer;
        }

        .audience-option input[type="radio"] {
            margin-top: 4px;
            accent-color: var(--accent-orange);
        }

        .audience-label {
            font-size: 14px;
            font-weight: 500;
        }

        .audience-desc {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        /* Video Table Premium Styles */
        .table-row-premium {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .table-row-premium:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .video-meta-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .video-title-text {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 14px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .video-desc-text {
            font-size: 12px;
            color: var(--text-muted);
            display: -webkit-box;
            -webkit-line-clamp: 1;
            line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .visibility-tag {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
        }

        .visibility-tag i {
            font-size: 14px;
        }

        .likes-bar-container {
            width: 80px;
            height: 2px;
            background: rgba(255, 255, 255, 0.1);
            margin-top: 4px;
            border-radius: 1px;
            overflow: hidden;
        }

        .likes-bar-fill {
            height: 100%;
            background: var(--text-muted);
        }

        .row-hover-actions {
            opacity: 0;
            display: flex;
            gap: 16px;
            padding-left: 12px;
            transition: opacity 0.2s ease;
        }

        .table-row-premium:hover .row-hover-actions {
            opacity: 1;
        }

        .hover-action-btn {
            color: var(--text-muted);
            font-size: 16px;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .hover-action-btn:hover {
            color: var(--text-primary);
        }

        /* Context Menu Styles already added */
        .custom-context-menu {
            position: fixed;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            z-index: 2000;
            min-width: 220px;
            padding: 8px;
            display: none;
            backdrop-filter: blur(10px);
            animation: menuFadeIn 0.2s ease;
        }

        @keyframes menuFadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .context-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 16px;
            color: var(--text-primary);
            font-size: 13px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .context-menu-item:hover {
            background: rgba(255, 69, 0, 0.1);
            color: var(--accent-orange);
        }

        .context-menu-item i {
            width: 18px;
            text-align: center;
            font-size: 14px;
        }

        /* Schedule Section */
        .schedule-box {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
        }

        .schedule-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .schedule-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .schedule-input-group label {
            display: block;
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 6px;
        }

        .schedule-input-group input,
        .schedule-input-group select {
            width: 100%;
            background: var(--bg-card);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
            padding: 10px;
            font-size: 13px;
        }

        /* Accessibility utility */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Premium Checklist */
        .publish-checklist {
            background: rgba(255, 107, 53, 0.03);
            border: 1px solid rgba(255, 69, 0, 0.1);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
        }

        .checklist-title {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .checklist-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
            margin-bottom: 16px;
        }

        .checklist-item:last-child {
            margin-bottom: 0;
        }

        .checklist-label {
            font-size: 14px;
            font-weight: 600;
        }

        .checklist-desc {
            font-size: 12px;
            color: var(--text-muted);
            line-height: 1.5;
        }

        /* Set Premiere Box */
        .premiere-box {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 8px;
            margin-top: 12px;
            cursor: pointer;
        }

        .premiere-box input {
            accent-color: var(--accent-orange);
        }
    </style>
</head>

<body>
    <script>console.log('âœ… BODY SCRIPT RUNNING - JavaScript is working!');</script>

    <!-- App Container -->
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="brand">
                    <div class="brand-logo">
                        <i class="fas fa-play"></i>
                    </div>
                    <div class="brand-text">
                        <h1>BHUBAN</h1>
                        <p>Creator Studio</p>
                    </div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <button class="nav-item active" data-page="dashboard">
                    <i class="fas fa-chart-pie"></i>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-page="content">
                    <i class="fas fa-video"></i>
                    <span>Content</span>
                </button>
                <button class="nav-item" data-page="analytics">
                    <i class="fas fa-chart-line"></i>
                    <span>Analytics</span>
                </button>
                <button class="nav-item" data-page="comments">
                    <i class="fas fa-comments"></i>
                    <span>Community</span>
                </button>
                <button class="nav-item" data-page="subtitles">
                    <i class="fas fa-closed-captioning"></i>
                    <span>Subtitles</span>
                </button>
                <button class="nav-item" data-page="copyright">
                    <i class="fas fa-copyright"></i>
                    <span>Content detection</span>
                </button>
                <button class="nav-item" data-page="earn">
                    <i class="fas fa-dollar-sign"></i>
                    <span>Earn</span>
                </button>
                <button class="nav-item" data-page="customization">
                    <i class="fas fa-magic"></i>
                    <span>Customization</span>
                </button>
                <button class="nav-item" data-page="audio-library">
                    <i class="fas fa-music"></i>
                    <span>Audio library</span>
                </button>
                <button class="nav-item" data-page="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>

                <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(255,255,255,0.05);">
                    <div
                        style="padding: 0 16px 8px; font-size: 11px; font-weight: 600; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px;">
                        Advanced Tools
                    </div>
                    <button class="nav-item" data-page="ai-studio">
                        <i class="fas fa-robot"></i>
                        <span>AI Studio</span>
                        <span
                            style="margin-left: auto; padding: 2px 8px; background: var(--accent-gradient); border-radius: 12px; font-size: 10px; font-weight: 700;">PRO</span>
                    </button>
                    <button class="nav-item" data-page="scheduler">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Smart Scheduler</span>
                    </button>
                    <button class="nav-item" data-page="collaboration">
                        <i class="fas fa-users"></i>
                        <span>Collaboration</span>
                    </button>
                    <button class="nav-item" data-page="library">
                        <i class="fas fa-folder-open"></i>
                        <span>Content Library</span>
                    </button>
                    <button class="nav-item" data-page="ab-testing">
                        <i class="fas fa-flask"></i>
                        <span>A/B Testing</span>
                    </button>
                    <button class="nav-item" data-page="monetization">
                        <i class="fas fa-chart-line"></i>
                        <span>Monetization Pro</span>
                    </button>
                </div>

                <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid rgba(255,255,255,0.05);">
                    <a href="/Bhuban%20developer%20app/index.html" class="nav-item" style="color: #00d4ff;">
                        <i class="fas fa-code"></i>
                        <span>Developer Dashboard</span>
                    </a>
                    <a href="/Bhuban%20video%20stream%20app/index.html" class="nav-item">
                        <i class="fas fa-play-circle"></i>
                        <span>View App</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-card" id="userCard">
                    <div class="user-avatar" id="userAvatar">B</div>
                    <div class="user-info">
                        <div class="user-name" id="userName">Bhuban Official</div>
                        <div class="user-email" id="userEmail"
                            style="display: none; font-size: 11px; color: var(--text-muted); margin-top: 2px;">
                            email@example.com</div>
                        <div class="user-subs" id="userStatus">14.2K Subscribers</div>
                    </div>
                    <div id="logoutOption" style="display:none; margin-left: auto;" onclick="handleGlobalLogout(event)">
                        <i class="fas fa-sign-out-alt" style="color: var(--error); cursor: pointer;" title="Logout"></i>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <h2 class="header-title" id="pageTitle">Dashboard</h2>
                <div class="header-actions">
                    <div class="search-box">
                        <i class="fas fa-search" aria-hidden="true"></i>
                        <label for="studioSearch"
                            style="position:absolute;width:1px;height:1px;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);">Search
                            videos</label>
                        <input type="text" id="studioSearch" name="studioSearch" placeholder="Search videos..."
                            autocomplete="off">
                    </div>
                    <a href="/Bhuban%20developer%20app/index.html" class="header-btn" title="Developer Dashboard">
                        <i class="fas fa-code"></i>
                    </a>
                    <button class="header-btn">
                        <i class="fas fa-bell"></i>
                    </button>
                    <button class="upload-btn" onclick="openUploadModal()">
                        <i class="fas fa-plus"></i>
                        CREATE
                    </button>
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard Page -->
                <div class="page-section active" id="dashboard-page">
                    <div class="dashboard-grid">

                        <!-- Column 1: Latest Video Performance -->
                        <div class="stat-card" style="padding: 24px;">
                            <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 20px;">Latest video performance
                            </h3>
                            <div id="latest-video-container">
                                <div
                                    style="position: relative; border-radius: 12px; overflow: hidden; margin-bottom: 16px; background: #000; aspect-ratio: 16/9;">
                                    <img id="latest-video-thumb"
                                        src="https://images.weserv.nl/?url=https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg&w=480&h=270&fit=cover"
                                        style="width: 100%; height: 100%; object-fit: cover;">
                                    <div
                                        style="position: absolute; bottom: 8px; right: 8px; background: rgba(0,0,0,0.8); padding: 2px 6px; border-radius: 4px; font-size: 11px;">
                                        10:24</div>
                                </div>
                                <h4 id="latest-video-title"
                                    style="font-size: 14px; font-weight: 600; line-height: 1.4; margin-bottom: 16px;">
                                    How big of ANUV JAIN Fan are you? #viral #shorts</h4>

                                <div style="display: flex; flex-direction: column; gap: 12px; font-size: 13px;">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span class="muted">Ranking by views</span>
                                        <span id="latest-video-ranking">1 / 10 <i class="fas fa-chevron-right"
                                                style="font-size: 10px; margin-left: 4px;"></i></span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span class="muted">Views</span>
                                        <span id="latest-video-views" style="font-weight: 600;">1.6K <i
                                                class="fas fa-arrow-up"
                                                style="color: #10b981; font-size: 11px;"></i></span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span class="muted">Avg. view duration</span>
                                        <span id="latest-video-duration" style="font-weight: 600;">0:40 (53.9%) <i
                                                class="fas fa-arrow-up"
                                                style="color: #10b981; font-size: 11px;"></i></span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <span class="muted">Watch time (hours)</span>
                                        <span id="latest-video-watchtime" style="font-weight: 600;">1.2 <i
                                                class="fas fa-arrow-up"
                                                style="color: #10b981; font-size: 11px;"></i></span>
                                    </div>
                                </div>

                                <button onclick="navigateToPage('analytics')" class="btn-link"
                                    style="margin-top: 24px; width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: none; border-radius: 8px; color: var(--text-primary); font-weight: 600; font-size: 12px; cursor: pointer;">GO
                                    TO VIDEO ANALYTICS</button>
                                <button onclick="navigateToPage('comments')" class="btn-link"
                                    style="margin-top: 8px; width: 100%; padding: 10px; background: transparent; border: none; border-radius: 8px; color: var(--accent-orange); font-weight: 600; font-size: 12px; cursor: pointer;">SEE
                                    COMMENTS</button>
                            </div>
                        </div>

                        <!-- Column 2: Channel Analytics -->
                        <div class="stat-card" style="padding: 24px;">
                            <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 8px;">Channel analytics</h3>
                            <div style="font-size: 13px; color: var(--text-muted); margin-bottom: 24px;">Current
                                subscribers</div>
                            <div id="channel-sub-count"
                                style="font-size: 36px; font-weight: 800; color: var(--text-primary); margin-bottom: 4px;">
                                --</div>
                            <div id="channel-sub-growth"
                                style="font-size: 12px; color: #10b981; font-weight: 600; margin-bottom: 24px;">-- in
                                last 28 days</div>

                            <div style="border-top: 1px solid rgba(255,255,255,0.05); padding-top: 20px;">
                                <h4 style="font-size: 14px; font-weight: 700; margin-bottom: 16px;">Summary <span
                                        style="font-weight: 400; color: var(--text-muted); font-size: 12px;">Last 28
                                        days</span></h4>
                                <div style="display: flex; flex-direction: column; gap: 16px;">
                                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                                        <span class="muted">Views</span>
                                        <span id="channel-views-summary" style="font-weight: 600;">13.3K <i
                                                class="fas fa-arrow-up"
                                                style="color: #10b981; font-size: 11px;"></i></span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                                        <span class="muted">Watch time (hours)</span>
                                        <span id="channel-watch-summary" style="font-weight: 600;">131.8 <i
                                                class="fas fa-arrow-up"
                                                style="color: #10b981; font-size: 11px;"></i></span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; font-size: 13px;">
                                        <span class="muted">Estimated revenue</span>
                                        <span id="channel-revenue-summary" style="font-weight: 600;">$0.00</span>
                                    </div>
                                </div>
                            </div>

                            <div
                                style="border-top: 1px solid rgba(255,255,255,0.05); margin-top: 20px; padding-top: 20px;">
                                <h4 style="font-size: 14px; font-weight: 700; margin-bottom: 12px;">Top videos <span
                                        style="font-weight: 400; color: var(--text-muted); font-size: 12px;">Last 48
                                        hours Â· Views</span></h4>
                                <div id="top-videos-list-mini"
                                    style="display: flex; flex-direction: column; gap: 12px;">
                                    <!-- Dynamic content -->
                                </div>
                            </div>

                            <button onclick="navigateToPage('analytics')" class="btn-link"
                                style="margin-top: 24px; width: 100%; padding: 10px; background: transparent; border: none; border-radius: 8px; color: var(--accent-orange); font-weight: 600; font-size: 12px; cursor: pointer; text-transform: uppercase;">GO
                                TO CHANNEL ANALYTICS</button>
                        </div>

                        <!-- Column 3: Latest Comments & News -->
                        <div style="display: flex; flex-direction: column; gap: 24px;">
                            <div class="stat-card" style="padding: 24px;">
                                <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 20px;">Latest comments</h3>
                                <div id="latest-comments-mini"
                                    style="display: flex; flex-direction: column; gap: 20px;">
                                    <!-- Dynamic content -->
                                </div>
                                <button onclick="navigateToPage('comments')" class="btn-link"
                                    style="margin-top: 24px; width: 100%; padding: 10px; background: transparent; border: none; border-radius: 8px; color: var(--accent-orange); font-weight: 600; font-size: 12px; cursor: pointer; text-transform: uppercase;">GO
                                    TO COMMUNITY</button>
                            </div>

                            <div class="stat-card"
                                style="padding: 24px; background: linear-gradient(135deg, rgba(255, 69, 0, 0.1), rgba(25, 25, 25, 0.9));">
                                <h3 style="font-size: 16px; font-weight: 700; margin-bottom: 16px;">What's new in Studio
                                </h3>
                                <div style="display: flex; flex-direction: column; gap: 16px;">
                                    <div style="display: flex; gap: 12px; align-items: center;">
                                        <div
                                            style="width: 48px; height: 48px; background: var(--accent-gradient); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 18px;">
                                            <i class="fas fa-robot"></i>
                                        </div>
                                        <div>
                                            <div style="font-size: 14px; font-weight: 600;">AI Content Assistant</div>
                                            <div class="muted" style="font-size: 11px;">Generate titles and tags with AI
                                            </div>
                                        </div>
                                    </div>
                                    <div style="font-size: 13px; color: var(--text-secondary); line-height: 1.5;">We've
                                        added a new AI Content Assistant to help you optimize your videos for search and
                                        discovery. Try it now in the AI Studio tab!</div>
                                    <button onclick="navigateToPage('ai-studio')" class="btn-link"
                                        style="padding: 10px; background: rgba(255,69,0,0.1); border: 1px solid var(--accent-orange); border-radius: 8px; color: var(--accent-orange); font-weight: 600; font-size: 12px; cursor: pointer;">TRY
                                        AI TOOLS</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Page -->
                <div class="page-section" id="content-page">
                    <div style="margin-bottom: 24px;">
                        <h2 style="font-size: 24px; font-weight: 700;">Channel content</h2>
                    </div>

                    <div class="content-card" style="padding: 0; overflow: hidden;">
                        <!-- Content Tabs -->
                        <div
                            style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 24px; display: flex; gap: 32px;">
                            <div class="inner-tab active"
                                style="padding: 16px 0; color: var(--accent-orange); border-bottom: 3px solid var(--accent-orange); font-weight: 600; cursor: pointer;">
                                Videos</div>
                            <div class="inner-tab"
                                style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Shorts</div>
                            <div class="inner-tab"
                                style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Live</div>
                            <div class="inner-tab"
                                style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Playlists</div>
                        </div>

                        <!-- Filter Bar -->
                        <div
                            style="padding: 12px 24px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: space-between;">
                            <div style="display: flex; gap: 16px; align-items: center;">
                                <div
                                    style="display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--text-secondary); cursor: pointer;">
                                    <i class="fas fa-filter"></i>
                                    <span>Filter</span>
                                </div>
                            </div>
                        </div>

                        <!-- Video Table -->
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse; font-size: 13px;">
                                <thead>
                                    <tr
                                        style="border-bottom: 1px solid rgba(255,255,255,0.05); text-align: left; color: var(--text-muted); font-weight: 600;">
                                        <th style="padding: 12px 24px; width: 48px;"><label for="selectAllVideos"
                                                class="visually-hidden">Select all</label><input type="checkbox"
                                                id="selectAllVideos" name="selectAllVideos"></th>
                                        <th style="padding: 12px 24px;">Video</th>
                                        <th style="padding: 12px 24px;">Visibility</th>
                                        <th style="padding: 12px 24px;">Restrictions</th>
                                        <th style="padding: 12px 24px;">Date</th>
                                        <th style="padding: 12px 24px;">Views</th>
                                        <th style="padding: 12px 24px;">Comments</th>
                                        <th style="padding: 12px 24px;">Likes (vs. dislikes)</th>
                                    </tr>
                                </thead>
                                <tbody id="fullVideoList">
                                    <!-- Dynamic content will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Analytics Page -->
                <div class="page-section" id="analytics-page">
                    <div
                        style="border-bottom: 1px solid rgba(255,255,255,0.05); margin-bottom: 32px; display: flex; gap: 32px; position: sticky; top: 0; background: var(--bg-primary); z-index: 10;">
                        <button class="inner-tab active" style="padding: 16px 8px;">Overview</button>
                        <button class="inner-tab" style="padding: 16px 8px;">Content</button>
                        <button class="inner-tab" style="padding: 16px 8px;">Audience</button>
                        <button class="inner-tab" style="padding: 16px 8px;">Trends</button>
                    </div>

                    <div style="margin-bottom: 32px; text-align: center;">
                        <h2 style="font-size: 24px; font-weight: 600; margin-bottom: 8px;">Your channel got 13,307 views
                            in the last 28 days</h2>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; margin-bottom: 32px;">
                        <div class="content-card" style="padding: 24px; border-bottom: 3px solid var(--accent-orange);">
                            <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 8px;">Views</div>
                            <div style="font-size: 28px; font-weight: 700;">13.3K <i class="fas fa-circle-arrow-up"
                                    style="display: inline-block; transform: rotate(-45deg); font-size: 16px; color: #10b981;"></i>
                            </div>
                            <div style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">11.5K more than
                                usual</div>
                        </div>
                        <div class="content-card" style="padding: 24px;">
                            <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 8px;">Watch time
                                (hours)</div>
                            <div style="font-size: 28px; font-weight: 700;">131.8 <i class="fas fa-circle-arrow-up"
                                    style="display: inline-block; transform: rotate(-45deg); font-size: 16px; color: #10b981;"></i>
                            </div>
                            <div style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">61.8 more than
                                usual</div>
                        </div>
                        <div class="content-card" style="padding: 24px;">
                            <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 8px;">Subscribers
                            </div>
                            <div style="font-size: 28px; font-weight: 700;">+31 <i class="fas fa-circle-arrow-up"
                                    style="display: inline-block; transform: rotate(-45deg); font-size: 16px; color: #10b981;"></i>
                            </div>
                            <div style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">520% more than
                                previous 28 days</div>
                        </div>
                        <div class="content-card" style="padding: 24px;">
                            <div style="font-size: 14px; color: var(--text-muted); margin-bottom: 8px;">Estimated
                                revenue</div>
                            <div style="font-size: 28px; font-weight: 700;">$0.00</div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 300px; gap: 24px;">
                        <div class="left-col">
                            <div class="content-card" style="padding: 24px; margin-bottom: 24px; min-height: 350px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                    <span style="font-size: 13px; font-weight: 600;">Views Â· Feb 8, 2026</span>
                                    <span style="font-size: 13px; font-weight: 800; color: #4facfe;">803</span>
                                </div>
                                <div
                                    style="height: 200px; display: flex; align-items: flex-end; gap: 4px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                                    <!-- Simple Area Chart Simulation with DIVs -->
                                    <div
                                        style="flex: 1; height: 10%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 15%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 25%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 20%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 40%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 35%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 15%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 30%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 50%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 45%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 80%; background: #4facfe; opacity: 1; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 40%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                    <div
                                        style="flex: 1; height: 30%; background: #4facfe; opacity: 0.6; border-radius: 2px 2px 0 0;">
                                    </div>
                                </div>
                                <div
                                    style="display: flex; justify-content: space-between; padding-top: 12px; font-size: 11px; color: var(--text-muted);">
                                    <span>Jan 22, 2026</span>
                                    <span>Feb 8</span>
                                    <span>Feb 18, 2026</span>
                                </div>
                            </div>

                            <div class="content-card" style="padding: 24px; margin-bottom: 24px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                                    <h3 style="font-size: 18px; font-weight: 600;">Your top content in this period</h3>
                                    <div style="font-size: 12px; color: var(--text-muted);">Jan 22 - Feb 18, 2026</div>
                                </div>

                                <div class="video-table">
                                    <div class="table-header"
                                        style="grid-template-columns: 3fr 1fr 1fr; background: transparent; color: var(--text-muted); font-size: 12px;">
                                        <span>Content</span>
                                        <span>Average view duration</span>
                                        <span>Views</span>
                                    </div>
                                    <div id="topContentList">
                                        <div
                                            style="display: grid; grid-template-columns: 3fr 1fr 1fr; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center;">
                                            <div style="display: flex; gap: 12px; align-items: center;">
                                                <div
                                                    style="width: 80px; height: 45px; background: #333; border-radius: 4px;">
                                                </div>
                                                <div style="font-size: 13px;">
                                                    <div style="font-weight: 500; margin-bottom: 2px;">How big of a
                                                        TALWINDER Fan are you?...</div>
                                                    <div style="font-size: 11px; color: var(--text-muted);">Feb 4, 2026
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="font-size: 13px;">0:42 (70.1%)</div>
                                            <div style="font-size: 13px; font-weight: 600;">3,862</div>
                                        </div>
                                        <div
                                            style="display: grid; grid-template-columns: 3fr 1fr 1fr; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center;">
                                            <div style="display: flex; gap: 12px; align-items: center;">
                                                <div
                                                    style="width: 80px; height: 45px; background: #333; border-radius: 4px;">
                                                </div>
                                                <div style="font-size: 13px;">
                                                    <div style="font-weight: 500; margin-bottom: 2px;">How big of ANUV
                                                        JAIN Fan are you?...</div>
                                                    <div style="font-size: 11px; color: var(--text-muted);">Feb 13, 2026
                                                        <span
                                                            style="padding: 2px 4px; background: rgba(0,180,255,0.1); color: #00b4ff; border-radius: 2px; font-size: 9px; margin-left: 4px;">Recent
                                                            upload</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="font-size: 13px;">0:40 (53.9%)</div>
                                            <div style="font-size: 13px; font-weight: 600;">1,615</div>
                                        </div>
                                    </div>
                                </div>
                                <button
                                    style="width: 100%; padding: 12px; background: transparent; border: none; color: var(--accent-orange); font-size: 13px; font-weight: 600; cursor: pointer; margin-top: 12px;">SEE
                                    MORE</button>
                            </div>
                        </div>

                        <div class="right-col">
                            <div class="content-card" style="padding: 24px; margin-bottom: 24px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 16px;">
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 4px;">Realtime</h4>
                                        <div
                                            style="display: flex; align-items: center; gap: 8px; font-size: 12px; color: #10b981;">
                                            <span
                                                style="width: 8px; height: 8px; border-radius: 50%; background: #10b981; box-shadow: 0 0 10px #10b981;"></span>
                                            Updating live
                                        </div>
                                    </div>
                                </div>

                                <div style="font-size: 32px; font-weight: 700; margin-bottom: 4px;">161</div>
                                <div style="font-size: 13px; color: var(--text-muted); margin-bottom: 20px;">Subscribers
                                </div>

                                <button
                                    style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 4px; color: var(--text-primary); font-size: 12px; font-weight: 600; cursor: pointer; margin-bottom: 24px;">SEE
                                    LIVE COUNT</button>

                                <div style="border-top: 1px solid rgba(255,255,255,0.05); padding-top: 24px;">
                                    <div
                                        style="display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 16px;">
                                        <span style="font-size: 20px; font-weight: 700;">75</span>
                                        <span style="font-size: 12px; color: var(--text-muted);">Views Â· Last 48
                                            hours</span>
                                    </div>

                                    <div
                                        style="height: 60px; display: flex; align-items: flex-end; gap: 2px; margin-bottom: 12px;">
                                        <!-- 48 mock bars for last 48 hours -->
                                        <div
                                            style="flex: 1; height: 20%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 30%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 10%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 40%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 15%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 60%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 45%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 25%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 70%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 35%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 90%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 50%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 30%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 65%; background: var(--accent-orange); opacity: 0.3;">
                                        </div>
                                        <!-- ... (simulated more bars) -->
                                        <div
                                            style="flex: 1; height: 80%; background: var(--accent-orange); opacity: 0.8;">
                                        </div>
                                        <div
                                            style="flex: 1; height: 40%; background: var(--accent-orange); opacity: 0.8;">
                                        </div>
                                    </div>

                                    <div
                                        style="display: flex; justify-content: space-between; font-size: 10px; color: var(--text-muted);">
                                        <span>48h ago</span>
                                        <span>Now</span>
                                    </div>
                                </div>
                            </div>

                            <div class="content-card" style="padding: 20px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 16px;">
                                    <h4 style="font-size: 14px; font-weight: 600;">Latest content</h4>
                                    <div style="width: 8px; height: 8px; border-radius: 50%; background: #10b981;">
                                    </div>
                                </div>
                                <div
                                    style="width: 100%; height: 140px; background: #333; border-radius: 8px; margin-bottom: 12px;">
                                </div>
                                <h5 style="font-size: 13px; font-weight: 500; margin-bottom: 8px; line-height: 1.4;">How
                                    big of ANUV JAIN Fan are you? #viral #Shorts</h5>
                                <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 16px;">First 6
                                    days 19 hours</div>

                                <div
                                    style="display: flex; flex-direction: column; gap: 12px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 16px;">
                                    <div
                                        style="display: flex; justify-content: space-between; align-items: center; font-size: 12px;">
                                        <span style="color: var(--text-muted);">Views</span>
                                        <span style="font-weight: 600;">1.6K <i class="fas fa-check-circle"
                                                style="color: #10b981; font-size: 10px; margin-left: 4px;"></i></span>
                                    </div>
                                    <div
                                        style="display: flex; justify-content: space-between; align-items: center; font-size: 12px;">
                                        <span style="color: var(--text-muted);">Avg. percentage viewed</span>
                                        <span style="font-weight: 600;">53.9% <i class="fas fa-check-circle"
                                                style="color: #10b981; font-size: 10px; margin-left: 4px;"></i></span>
                                    </div>
                                    <div
                                        style="display: flex; justify-content: space-between; align-items: center; font-size: 12px;">
                                        <span style="color: var(--text-muted);">Likes</span>
                                        <span style="font-weight: 600;">75 <i class="fas fa-check-circle"
                                                style="color: #10b981; font-size: 10px; margin-left: 4px;"></i></span>
                                    </div>
                                </div>
                                <button
                                    style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: none; border-radius: 4px; color: var(--text-primary); font-size: 12px; font-weight: 600; cursor: pointer; margin-top: 16px;">SEE
                                    VIDEO ANALYTICS</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Earn Page -->
                <div class="page-section" id="earn-page">
                    <div style="margin-bottom: 32px; text-align: center;">
                        <h2
                            style="font-size: 32px; font-weight: 800; margin-bottom: 12px; background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">
                            Become a partner</h2>
                        <p style="color: var(--text-secondary); font-size: 16px;">Join the Bhuban Partner Program to
                            earn money, get creator support, and more</p>
                    </div>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-bottom: 48px;">
                        <div class="content-card"
                            style="padding: 32px; text-align: center; border: 1px solid rgba(255,215,0,0.2);">
                            <i class="fas fa-play-circle"
                                style="font-size: 40px; color: #FFD700; margin-bottom: 20px;"></i>
                            <h4 style="margin-bottom: 12px;">Watch Page Ads</h4>
                            <p style="font-size: 14px; color: var(--text-muted);">Earn from ads and Premium on the watch
                                page</p>
                            <button class="btn-primary"
                                style="margin-top: 20px; width: 100%; background: rgba(255,255,255,0.05); color: var(--text-primary);">Learn
                                More</button>
                        </div>
                        <div class="content-card" style="padding: 32px; text-align: center;">
                            <i class="fas fa-bolt" style="font-size: 40px; color: #00BFFF; margin-bottom: 20px;"></i>
                            <h4 style="margin-bottom: 12px;">Shorts Feed Ads</h4>
                            <p style="font-size: 14px; color: var(--text-muted);">Earn from ads and Premium in the
                                Shorts feed</p>
                            <button class="btn-primary"
                                style="margin-top: 20px; width: 100%; background: rgba(255,255,255,0.05); color: var(--text-primary);">Learn
                                More</button>
                        </div>
                        <div class="content-card" style="padding: 32px; text-align: center;">
                            <i class="fas fa-users" style="font-size: 40px; color: #FF69B4; margin-bottom: 20px;"></i>
                            <h4 style="margin-bottom: 12px;">Memberships</h4>
                            <p style="font-size: 14px; color: var(--text-muted);">Create a fan club of members paying
                                monthly</p>
                            <button class="btn-primary"
                                style="margin-top: 20px; width: 100%; background: rgba(255,255,255,0.05); color: var(--text-primary);">Learn
                                More</button>
                        </div>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <h3 style="font-size: 20px; font-weight: 700;">How do I join?</h3>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 24px;">
                        <!-- Subscribers Progress -->
                        <div class="content-card" style="padding: 32px;">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                                <h4 style="color: var(--text-secondary);">Reach 1,000 subscribers</h4>
                                <span id="subCountValue"
                                    style="font-size: 18px; font-weight: 700; color: var(--accent-orange);">0 /
                                    1,000</span>
                            </div>
                            <div
                                style="height: 12px; background: rgba(255,255,255,0.05); border-radius: 6px; overflow: hidden; margin-bottom: 12px;">
                                <div id="subProgressBar"
                                    style="height: 100%; background: var(--accent-gradient); width: 0%; transition: width 1s ease;">
                                </div>
                            </div>
                            <p style="font-size: 13px; color: var(--text-muted);"><i class="fas fa-info-circle"></i>
                                Update your channel to see current progress</p>
                        </div>

                        <!-- Watch Time Progress -->
                        <div class="content-card" style="padding: 32px;">
                            <div style="margin-bottom: 24px;">
                                <h4 style="color: var(--text-secondary); margin-bottom: 4px;">Complete one of the
                                    following</h4>
                                <p style="font-size: 12px; color: var(--text-muted);">Public watch hours or Shorts views
                                </p>
                            </div>

                            <div style="margin-bottom: 24px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                    <span style="font-size: 14px;">4,000 public watch hours</span>
                                    <span id="watchTimeValue" style="font-weight: 700;">0 / 4,000</span>
                                </div>
                                <div
                                    style="height: 8px; background: rgba(255,255,255,0.05); border-radius: 4px; overflow: hidden;">
                                    <div id="watchProgressBar"
                                        style="height: 100%; background: #4facfe; width: 0%; transition: width 1s ease;">
                                    </div>
                                </div>
                            </div>

                            <div>
                                <div
                                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                    <span style="font-size: 14px;">10M public Shorts views</span>
                                    <span id="shortsViewsValue" style="font-weight: 700;">0 / 10M</span>
                                </div>
                                <div
                                    style="height: 8px; background: rgba(255,255,255,0.05); border-radius: 4px; overflow: hidden;">
                                    <div id="shortsProgressBar"
                                        style="height: 100%; background: #00f2fe; width: 0%; transition: width 1s ease;">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Community / Comments Page -->
                <div class="page-section" id="comments-page">
                    <div style="margin-bottom: 24px;">
                        <h2 style="font-size: 24px; font-weight: 700;">Channel comments & mentions</h2>
                    </div>

                    <div class="content-card" style="padding: 0; overflow: hidden;">
                        <!-- Tabs -->
                        <div
                            style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 24px; display: flex; gap: 32px;">
                            <div class="inner-tab active"
                                style="padding: 16px 0; color: var(--accent-orange); border-bottom: 3px solid var(--accent-orange); font-weight: 600; cursor: pointer;">
                                Comments</div>
                            <div class="inner-tab"
                                style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Viewer posts</div>
                            <div class="inner-tab"
                                style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Mentions</div>
                        </div>

                        <!-- Filter Bar -->
                        <div
                            style="padding: 12px 24px; border-bottom: 1px solid rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: space-between; background: rgba(0,0,0,0.1);">
                            <div style="display: flex; gap: 16px; align-items: center;">
                                <div
                                    style="display: flex; align-items: center; gap: 8px; font-size: 14px; color: var(--text-secondary); cursor: pointer;">
                                    <i class="fas fa-filter"></i>
                                    <span>Filter</span>
                                </div>
                                <div style="height: 24px; width: 1px; background: rgba(255,255,255,0.05);"></div>
                                <div style="font-size: 14px; color: var(--text-muted);">
                                    Published <i class="fas fa-chevron-down"
                                        style="font-size: 10px; margin-left: 4px;"></i>
                                </div>
                            </div>
                            <div class="search-box"
                                style="margin: 0; max-width: 300px; background: rgba(255,255,255,0.03);">
                                <i class="fas fa-search"></i>
                                <input type="text" id="commentSearchFilter" name="commentSearchFilter"
                                    placeholder="Search comments" aria-label="Search comments"
                                    style="background: transparent;">
                            </div>
                        </div>

                        <!-- Comments List -->
                        <div id="fullCommentsList">
                            <!-- Dynamic content will be loaded here -->
                        </div>

                        <!-- Empty State (Hidden) -->
                        <div id="commentsEmptyState"
                            style="display: none; padding: 100px 40px; text-align: center; color: var(--text-muted);">
                            <i class="fas fa-comments" style="font-size: 64px; margin-bottom: 24px; opacity: 0.2;"></i>
                            <h3>No comments found</h3>
                            <p>When viewers comment on your videos, they'll show up here.</p>
                        </div>
                    </div>
                </div>

                <!-- Subtitles Page -->
                <div class="page-section" id="subtitles-page">
                    <div style="margin-bottom: 24px;">
                        <h2 style="font-size: 24px; font-weight: 700;">Channel subtitles</h2>
                    </div>

                    <div class="content-card">
                        <div style="padding: 24px; border-bottom: 1px solid rgba(255,255,255,0.05);">
                            <div class="search-box" style="max-width: 400px; background: rgba(0,0,0,0.2);">
                                <i class="fas fa-search"></i>
                                <input type="text" id="subtitleSearch" name="subtitleSearch"
                                    placeholder="Search across your channel" aria-label="Search across your channel"
                                    style="background: transparent;">
                            </div>
                        </div>

                        <div
                            style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 24px; display: flex; gap: 32px;">
                            <div
                                style="padding: 16px 0; color: var(--accent-orange); border-bottom: 3px solid var(--accent-orange); font-weight: 600; cursor: pointer;">
                                All</div>
                            <div style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Drafts</div>
                            <div style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                Published</div>
                        </div>

                        <div class="video-table">
                            <div class="table-header" style="grid-template-columns: 2fr 1fr 1fr; padding: 12px 24px;">
                                <span>Video</span>
                                <span>Languages</span>
                                <span>Modified on</span>
                            </div>
                            <div id="subtitlesList">
                                <div
                                    style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 16px 24px; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center;">
                                    <div style="display: flex; gap: 16px; align-items: center;">
                                        <div
                                            style="width: 120px; height: 68px; background: #333; border-radius: 4px; position: relative;">
                                            <div
                                                style="position: absolute; bottom: 4px; right: 4px; background: rgba(0,0,0,0.8); padding: 2px 4px; font-size: 10px; border-radius: 2px;">
                                                1:15</div>
                                        </div>
                                        <div
                                            style="font-size: 14px; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            How big of ANUV JAIN Fan are you? #viral #music...</div>
                                    </div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">0</div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">Feb 14, 2026</div>
                                </div>
                                <div
                                    style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 16px 24px; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center;">
                                    <div style="display: flex; gap: 16px; align-items: center;">
                                        <div
                                            style="width: 120px; height: 68px; background: #333; border-radius: 4px; position: relative;">
                                            <div
                                                style="position: absolute; bottom: 4px; right: 4px; background: rgba(0,0,0,0.8); padding: 2px 4px; font-size: 10px; border-radius: 2px;">
                                                1:10</div>
                                        </div>
                                        <div
                                            style="font-size: 14px; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            6 Emraan Hashmi Songs in 60 Seconds #music...</div>
                                    </div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">0</div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">Feb 10, 2026</div>
                                </div>
                                <div
                                    style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 16px 24px; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: center;">
                                    <div style="display: flex; gap: 16px; align-items: center;">
                                        <div
                                            style="width: 120px; height: 68px; background: #333; border-radius: 4px; position: relative;">
                                            <div
                                                style="position: absolute; bottom: 4px; right: 4px; background: rgba(0,0,0,0.8); padding: 2px 4px; font-size: 10px; border-radius: 2px;">
                                                0:44</div>
                                        </div>
                                        <div
                                            style="font-size: 14px; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">
                                            When you can't argue #viral #explore #love...</div>
                                    </div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">0</div>
                                    <div style="font-size: 14px; color: var(--text-secondary);">Feb 9, 2026</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Copyright / Content Detection Page -->
                <div class="page-section" id="copyright-page">
                    <div style="margin-bottom: 24px;">
                        <h2 style="font-size: 24px; font-weight: 700;">Content detection</h2>
                    </div>

                    <div class="content-card">
                        <div style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 24px;">
                            <div style="display: flex; gap: 32px;">
                                <div
                                    style="padding: 16px 0; color: var(--accent-orange); border-bottom: 3px solid var(--accent-orange); font-weight: 600; cursor: pointer;">
                                    Copyright</div>
                                <div
                                    style="padding: 16px 0; color: var(--text-muted); font-weight: 600; cursor: pointer;">
                                    Removal requests</div>
                            </div>
                        </div>
                        <div style="padding: 80px 40px; text-align: center; color: var(--text-muted);">
                            <div style="margin-bottom: 24px;">
                                <svg width="120" height="120" viewBox="0 0 120 120" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" style="opacity: 0.5;">
                                    <rect x="20" y="20" width="80" height="80" rx="40" fill="rgba(255, 69, 0, 0.1)" />
                                    <path
                                        d="M60 40C48.9543 40 40 48.9543 40 60C40 71.0457 48.9543 80 60 80C71.0457 80 80 71.0457 80 60C80 48.9543 71.0457 40 60 40ZM60 45C68.2843 45 75 51.7157 75 60C75 68.2843 68.2843 75 60 75C51.7157 75 45 68.2843 45 60C45 51.7157 51.7157 45 60 45ZM55 52V68L68 60L55 52Z"
                                        fill="var(--accent-orange)" />
                                </svg>
                            </div>
                            <h3 style="color: var(--text-primary); margin-bottom: 12px; font-size: 18px;">Nice work!
                                You're all caught up</h3>
                            <p style="max-width: 400px; margin: 0 auto;">There are no copyright strikes or removal
                                requests on your channel right now.</p>
                        </div>
                    </div>
                </div>

                <!-- Customization Page -->
                <div class="page-section" id="customization-page">
                    <div class="content-card">
                        <div class="content-header">
                            <h3 class="content-title">Channel Customization</h3>
                        </div>
                        <div style="padding: 60px; text-align: center; color: var(--text-muted);">
                            <i class="fas fa-magic" style="font-size: 64px; margin-bottom: 20px; opacity: 0.3;"></i>
                            <h3 style="color: var(--text-secondary); margin-bottom: 12px;">Customize your channel</h3>
                            <p>Update your layout, branding, and basic info.</p>
                        </div>
                    </div>
                </div>

                <!-- Audio Library Page -->
                <div class="page-section" id="audio-library-page">
                    <div class="content-card">
                        <div class="content-header">
                            <h3 class="content-title">Audio Library</h3>
                        </div>
                        <div style="padding: 60px; text-align: center; color: var(--text-muted);">
                            <i class="fas fa-music" style="font-size: 64px; margin-bottom: 20px; opacity: 0.3;"></i>
                            <h3 style="color: var(--text-secondary); margin-bottom: 12px;">Free Music for Your Videos
                            </h3>
                            <p>Browse and download high-quality music and sound effects for your content.</p>
                        </div>
                    </div>
                </div>

                <!-- Settings Page -->
                <div class="page-section" id="settings-page">
                    <div
                        style="background: var(--bg-secondary); border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); overflow: hidden; display: grid; grid-template-columns: 240px 1fr; min-height: 600px;">
                        <!-- Settings Sidebar -->
                        <div
                            style="background: rgba(255,255,255,0.02); border-right: 1px solid rgba(255,255,255,0.05); padding: 20px 0;">
                            <div class="settings-tab active" onclick="switchSettingsTab('general', this)"
                                style="padding: 12px 24px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; color: var(--accent-orange); background: rgba(255,107,53,0.05); border-left: 3px solid var(--accent-orange);">
                                <i class="fas fa-cog"></i>
                                <span style="font-weight: 600;">General</span>
                            </div>
                            <div class="settings-tab" onclick="switchSettingsTab('channel', this)"
                                style="padding: 12px 24px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; color: var(--text-muted);">
                                <i class="fas fa-tv"></i>
                                <span>Channel</span>
                            </div>
                            <div class="settings-tab" onclick="switchSettingsTab('defaults', this)"
                                style="padding: 12px 24px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; color: var(--text-muted);">
                                <i class="fas fa-upload"></i>
                                <span>Upload defaults</span>
                            </div>
                            <div class="settings-tab" onclick="switchSettingsTab('permissions', this)"
                                style="padding: 12px 24px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; color: var(--text-muted);">
                                <i class="fas fa-user-shield"></i>
                                <span>Permissions</span>
                            </div>
                            <div class="settings-tab" onclick="switchSettingsTab('community', this)"
                                style="padding: 12px 24px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; color: var(--text-muted);">
                                <i class="fas fa-users-cog"></i>
                                <span>Community</span>
                            </div>
                            <div class="settings-tab" onclick="switchSettingsTab('agreements', this)"
                                style="padding: 12px 24px; cursor: pointer; display: flex; align-items: center; gap: 12px; transition: all 0.3s; color: var(--text-muted);">
                                <i class="fas fa-file-contract"></i>
                                <span>Agreements</span>
                            </div>
                        </div>

                        <!-- Settings Content -->
                        <div
                            style="padding: 0; overflow-y: auto; max-height: 80vh; display: flex; flex-direction: column;">
                            <!-- General Tab Content -->
                            <div class="settings-pane" id="set-general" style="padding: 32px;">
                                <h3 style="margin-bottom: 24px;">General</h3>
                                <div class="form-group">
                                    <label class="form-label" for="settingCurrency"
                                        style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 8px; display: block;">Default
                                        currency</label>
                                    <select class="form-input" id="settingCurrency"
                                        style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                        <option value="USD">USD - US Dollar</option>
                                        <option value="INR">INR - Indian Rupee</option>
                                    </select>
                                    <p style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">Choose the
                                        currency you want to see your revenue in.</p>
                                </div>
                            </div>

                            <!-- Channel Tab Content -->
                            <div class="settings-pane" id="set-channel" style="display: none;">
                                <div
                                    style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 32px; display: flex; gap: 32px;">
                                    <button class="inner-tab active"
                                        onclick="switchInnerTab('channel', 'basic', this)">Basic info</button>
                                    <button class="inner-tab"
                                        onclick="switchInnerTab('channel', 'advanced', this)">Advanced settings</button>
                                    <button class="inner-tab"
                                        onclick="switchInnerTab('channel', 'feature', this)">Feature
                                        eligibility</button>
                                </div>

                                <div style="padding: 32px;">
                                    <!-- Basic Info -->
                                    <div id="channel-basic" class="inner-pane">
                                        <div class="form-group">
                                            <label class="form-label" for="settingCountry"
                                                style="display: block; margin-bottom: 8px;">Country of residence</label>
                                            <select id="settingCountry" class="form-input"
                                                style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                <option value="">Select</option>
                                                <option value="IN">India</option>
                                                <option value="US">United States</option>
                                            </select>
                                            <p style="font-size: 12px; color: var(--text-muted); margin-top: 8px;">
                                                Choose the country where you're currently based.</p>
                                        </div>
                                        <div class="form-group" style="margin-top: 24px;">
                                            <label class="form-label" for="settingKeywords"
                                                style="display: block; margin-bottom: 8px;">Keywords</label>
                                            <textarea id="settingKeywords" class="form-textarea"
                                                placeholder="Add keywords" rows="3"
                                                style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;"></textarea>
                                            <p style="font-size: 11px; color: var(--text-muted); margin-top: 6px;">Enter
                                                comma-separated values</p>
                                        </div>
                                    </div>

                                    <!-- Advanced Settings -->
                                    <div id="channel-advanced" class="inner-pane" style="display: none;">
                                        <h3 style="margin-bottom: 16px; font-size: 18px;">Audience</h3>
                                        <p style="font-size: 13px; color: var(--text-muted); margin-bottom: 16px;">
                                            Simplify your workflow by selecting a channel setting. If you skip this
                                            question, you'll be required to identify each video on your channel that's
                                            made for kids. This setting will affect existing and future videos.</p>
                                        <h4 style="margin-bottom: 12px; font-size: 15px;">Do you want to set your
                                            channel as made for kids?</h4>
                                        <div style="display: flex; flex-direction: column; gap: 12px;">
                                            <label
                                                style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                                                <input type="radio" name="madeForKids" value="yes"
                                                    style="margin-top: 4px;">
                                                <span style="font-size: 14px;">Yes, set this channel as made for kids. I
                                                    mostly upload content that's made for kids.</span>
                                            </label>
                                            <label
                                                style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                                                <input type="radio" name="madeForKids" value="no" checked
                                                    style="margin-top: 4px;">
                                                <span style="font-size: 14px;">No, set this channel as not made for
                                                    kids. I almost never upload content that's made for kids.</span>
                                            </label>
                                            <label
                                                style="display: flex; align-items: flex-start; gap: 10px; cursor: pointer;">
                                                <input type="radio" name="madeForKids" value="review"
                                                    style="margin-top: 4px;">
                                                <span style="font-size: 14px;">I want to review this setting for every
                                                    video.</span>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- Feature Eligibility -->
                                    <div id="channel-feature" class="inner-pane" style="display: none;">
                                        <p style="font-size: 14px; color: var(--text-muted); margin-bottom: 24px;">You
                                            can manage your access to more features here. Intermediate and advanced
                                            features require additional verification which helps us keep the Bhuban
                                            community safe for everyone. <a href="#"
                                                style="color: var(--accent-orange); text-decoration: none;">Learn
                                                more</a></p>

                                        <div style="display: flex; flex-direction: column; gap: 16px;">
                                            <!-- Feature 1 -->
                                            <div
                                                style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px;">
                                                <div
                                                    style="display: flex; justify-content: space-between; align-items: center;">
                                                    <div>
                                                        <h4 style="font-size: 16px; margin-bottom: 4px;">1. Standard
                                                            features</h4>
                                                        <p style="font-size: 13px; color: var(--text-muted);">Upload
                                                            videos, create playlists and add collaborators and new
                                                            videos to playlists</p>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: 12px;">
                                                        <span
                                                            style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: #10b981; border-radius: 20px; font-size: 12px; font-weight: 700;">Enabled</span>
                                                        <i class="fas fa-chevron-down"
                                                            style="color: var(--text-muted); font-size: 12px;"></i>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Feature 2 -->
                                            <div
                                                style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px;">
                                                <div
                                                    style="display: flex; justify-content: space-between; align-items: center;">
                                                    <div>
                                                        <h4 style="font-size: 16px; margin-bottom: 4px;">2. Intermediate
                                                            features</h4>
                                                        <p style="font-size: 13px; color: var(--text-muted);">Videos
                                                            over 15 minutes, custom thumbnails, and live streaming</p>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: 12px;">
                                                        <span
                                                            style="padding: 6px 12px; background: rgba(16,185,129,0.1); color: #10b981; border-radius: 20px; font-size: 12px; font-weight: 700;">Enabled</span>
                                                        <i class="fas fa-chevron-down"
                                                            style="color: var(--text-muted); font-size: 12px;"></i>
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Feature 3 -->
                                            <div
                                                style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 20px;">
                                                <div
                                                    style="display: flex; justify-content: space-between; align-items: center;">
                                                    <div>
                                                        <h4 style="font-size: 16px; margin-bottom: 4px;">3. Advanced
                                                            features</h4>
                                                        <p style="font-size: 13px; color: var(--text-muted);">Increased
                                                            daily video uploads and live streams, and eligibility to
                                                            apply for monet...</p>
                                                    </div>
                                                    <div style="display: flex; align-items: center; gap: 12px;">
                                                        <span
                                                            style="padding: 6px 12px; background: rgba(255,255,255,0.05); color: var(--text-muted); border-radius: 20px; font-size: 12px; font-weight: 700;">Eligible</span>
                                                        <i class="fas fa-chevron-down"
                                                            style="color: var(--text-muted); font-size: 12px;"></i>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Defaults Tab Content -->
                            <div class="settings-pane" id="set-defaults" style="display: none;">
                                <div
                                    style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 32px; display: flex; gap: 32px;">
                                    <button class="inner-tab active"
                                        onclick="switchInnerTab('defaults', 'basic', this)">Basic info</button>
                                    <button class="inner-tab"
                                        onclick="switchInnerTab('defaults', 'advanced', this)">Advanced
                                        settings</button>
                                </div>

                                <div style="padding: 32px;">
                                    <div id="defaults-basic" class="inner-pane">
                                        <div class="form-group">
                                            <label class="form-label" for="settingDefaultVis"
                                                style="display: block; margin-bottom: 8px;">Default Visibility</label>
                                            <select id="settingDefaultVis" class="form-input"
                                                style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                <option value="public">Public</option>
                                                <option value="unlisted">Unlisted</option>
                                                <option value="private">Private</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div id="defaults-advanced" class="inner-pane" style="display: none;">
                                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                                            <div>
                                                <label
                                                    style="display: flex; align-items: center; gap: 10px; cursor: pointer; margin-bottom: 20px;">
                                                    <input type="checkbox" id="autoChapters" checked>
                                                    <span style="font-size: 14px;">Allow automatic chapters and key
                                                        moments</span>
                                                </label>

                                                <div class="form-group">
                                                    <label class="form-label" for="settingLicense"
                                                        style="display: block; margin-bottom: 8px;">License</label>
                                                    <select id="settingLicense" class="form-input"
                                                        style="width: 100%; padding: 10px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="standard">Standard Bhuban License</option>
                                                        <option value="creative-commons">Creative Commons - Attribution
                                                        </option>
                                                    </select>
                                                </div>

                                                <div class="form-group" style="margin-top: 16px;">
                                                    <label class="form-label" for="settingLang"
                                                        style="display: block; margin-bottom: 8px;">Video
                                                        language</label>
                                                    <select id="settingLang" class="form-input"
                                                        style="width: 100%; padding: 10px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="">Select</option>
                                                        <option value="en">English</option>
                                                        <option value="bn">Bengali</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div>
                                                <div class="form-group">
                                                    <label class="form-label" for="settingCategory"
                                                        style="display: block; margin-bottom: 8px;">Category</label>
                                                    <select id="settingCategory" class="form-input"
                                                        style="width: 100%; padding: 10px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="">None</option>
                                                        <option value="gaming">Gaming</option>
                                                        <option value="tech">Technology</option>
                                                    </select>
                                                </div>

                                                <div class="form-group" style="margin-top: 16px;">
                                                    <label class="form-label" for="settingComments"
                                                        style="display: block; margin-bottom: 8px;">Comments</label>
                                                    <select id="settingComments" class="form-input"
                                                        style="width: 100%; padding: 10px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="on">On</option>
                                                        <option value="hold">Hold potentially inappropriate comments for
                                                            review</option>
                                                        <option value="off">Off</option>
                                                    </select>
                                                </div>

                                                <label
                                                    style="display: flex; align-items: center; gap: 10px; cursor: pointer; margin-top: 20px;">
                                                    <input type="checkbox" id="showLikes" checked>
                                                    <span style="font-size: 14px;">Show how many viewers like this
                                                        video</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Permissions Tab Content (Screenshot 1) -->
                            <div class="settings-pane" id="set-permissions" style="display: none; padding: 32px;">
                                <div
                                    style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 24px;">
                                    <div>
                                        <h3>Permissions</h3>
                                        <p style="font-size: 14px; color: var(--text-muted);">Manage who has access to
                                            your channel.</p>
                                    </div>
                                    <button class="btn-primary" style="padding: 10px 20px; font-size: 14px;"><i
                                            class="fas fa-user-plus"></i> Invite</button>
                                </div>

                                <div
                                    style="background: var(--bg-card); border-radius: 12px; overflow: hidden; border: 1px solid rgba(255,255,255,0.05);">
                                    <div
                                        style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 16px; background: rgba(255,255,255,0.03); font-weight: 600; font-size: 14px; color: var(--text-secondary);">
                                        <span>Name</span>
                                        <span>Email</span>
                                        <span>Role</span>
                                    </div>
                                    <div
                                        style="display: grid; grid-template-columns: 2fr 1fr 1fr; padding: 20px; border-top: 1px solid rgba(255,255,255,0.05); align-items: center;">
                                        <div style="display: flex; align-items: center; gap: 12px;">
                                            <div
                                                style="width: 36px; height: 36px; background: var(--accent-orange); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 800; color: white;">
                                                B</div>
                                            <span style="font-weight: 600;">Bhuban Official</span>
                                        </div>
                                        <span
                                            style="font-size: 14px; color: var(--text-muted);">bhuban@creator.com</span>
                                        <div>
                                            <span
                                                style="padding: 4px 12px; background: rgba(255,107,53,0.1); color: var(--accent-orange); border-radius: 6px; font-size: 12px; font-weight: 600;">Owner</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Community Tab Content -->
                            <div class="settings-pane" id="set-community" style="display: none;">
                                <div
                                    style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 0 32px; display: flex; gap: 32px;">
                                    <button class="inner-tab active"
                                        onclick="switchInnerTab('community', 'controls', this)">Content
                                        controls</button>
                                    <button class="inner-tab" onclick="switchInnerTab('community', 'users', this)">User
                                        management</button>
                                    <button class="inner-tab"
                                        onclick="switchInnerTab('community', 'guidelines', this)">Channel
                                        guidelines</button>
                                </div>

                                <div style="padding: 32px;">
                                    <!-- Content Controls -->
                                    <div id="community-controls" class="inner-pane">
                                        <div class="form-group">
                                            <label class="form-label" for="settingCommunityMod"
                                                style="display: block; margin-bottom: 8px;">Moderation</label>
                                            <select id="settingCommunityMod" class="form-input"
                                                style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                <option value="none">None</option>
                                                <option value="basic">Basic</option>
                                                <option value="strict">Strict</option>
                                            </select>
                                        </div>

                                        <div style="margin-top: 32px;">
                                            <h4
                                                style="margin-bottom: 16px; font-size: 15px; display: flex; align-items: center; gap: 8px;">
                                                Posts in your Community <i class="fas fa-question-circle"
                                                    style="font-size: 12px; color: var(--text-muted);"></i>
                                            </h4>

                                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                                                <div class="form-group">
                                                    <label class="form-label" for="settingViewerPosts"
                                                        style="display: block; margin-bottom: 8px;">Viewer posts</label>
                                                    <select id="settingViewerPosts" class="form-input"
                                                        style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="off">Off</option>
                                                        <option value="on">On</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label" for="settingPostMod"
                                                        style="display: block; margin-bottom: 8px;">Moderation</label>
                                                    <select id="settingPostMod" class="form-input"
                                                        style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="basic">Basic</option>
                                                        <option value="strict">Strict</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label" for="settingWhoCanPost"
                                                        style="display: block; margin-bottom: 8px;">Who can post</label>
                                                    <select id="settingWhoCanPost" class="form-input"
                                                        style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="subscribers">Subscribers</option>
                                                        <option value="anyone">Anyone</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label" for="settingMinSubTime"
                                                        style="display: block; margin-bottom: 8px;">Minimum subscription
                                                        time</label>
                                                    <select id="settingMinSubTime" class="form-input"
                                                        style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;">
                                                        <option value="1day">1 day</option>
                                                        <option value="1week">1 week</option>
                                                        <option value="1month">1 month</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group" style="margin-top: 32px;">
                                            <label class="form-label" for="settingBlockedWords"
                                                style="display: block; margin-bottom: 12px; display: flex; align-items: center; gap: 8px;">
                                                Blocked words <i class="fas fa-question-circle"
                                                    style="font-size: 12px; color: var(--text-muted);"></i>
                                            </label>
                                            <textarea id="settingBlockedWords" class="form-textarea"
                                                placeholder="Add comma-separated values" rows="3"
                                                style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: white;"></textarea>
                                        </div>

                                        <div
                                            style="margin-top: 24px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.05);">
                                            <h4 style="font-size: 14px; font-weight: 600; margin-bottom: 12px;">Link
                                                text</h4>
                                            <label
                                                style="display: flex; align-items: flex-start; gap: 12px; cursor: pointer;">
                                                <input type="checkbox" id="holdLinkComments" style="margin-top: 3px;">
                                                <span style="font-size: 13px; line-height: 1.5;">
                                                    <strong>Hold comments with hashtags and URLs for review</strong><br>
                                                    <span style="color: var(--text-muted);">Comments and viewer posts
                                                        with hashtags and URLs will be held. This setting does not apply
                                                        to you, moderators, or approved users. URLs and hashtags are
                                                        already blocked in live chat messages.</span>
                                                </span>
                                            </label>
                                        </div>
                                    </div>

                                    <!-- User Management -->
                                    <div id="community-users" class="inner-pane" style="display: none;">
                                        <p style="color: var(--text-muted);">Manage moderators and hidden users...</p>
                                    </div>

                                    <!-- Channel Guidelines -->
                                    <div id="community-guidelines" class="inner-pane" style="display: none;">
                                        <p style="color: var(--text-muted);">Set rules for your community...</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Agreements Tab Content -->
                            <div class="settings-pane" id="set-agreements"
                                style="display: none; padding: 32px; flex: 1; display: flex; flex-direction: column;">
                                <div
                                    style="flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: var(--text-muted);">
                                    <i class="fas fa-file-invoice"
                                        style="font-size: 48px; margin-bottom: 24px; opacity: 0.2;"></i>
                                    <p style="font-size: 14px; max-width: 400px; line-height: 1.6;">
                                        All use of the service is subject to the Bhuban Terms of Service. <a href="#"
                                            style="color: var(--accent-orange); text-decoration: none;">Learn more</a>
                                    </p>
                                </div>
                            </div>

                            <div
                                style="margin-top: auto; border-top: 1px solid rgba(255,255,255,0.05); padding: 20px 32px; display: flex; justify-content: flex-end; gap: 16px; background: rgba(0,0,0,0.2);">
                                <button class="btn-cancel" style="flex: none; min-width: 100px;">Cancel</button>
                                <button class="btn-publish" style="flex: none; min-width: 120px;"
                                    onclick="saveChannelSettings()">Save</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Studio Page -->
            <div class="page-section" id="ai-studio-page">
                <div class="content-card">
                    <div class="content-header">
                        <h3 class="content-title">
                            <i class="fas fa-robot" style="color: var(--accent-orange);"></i> AI Studio
                            <span
                                style="margin-left: 12px; padding: 4px 12px; background: var(--accent-gradient); border-radius: 16px; font-size: 12px; font-weight: 700;">PRO</span>
                        </h3>
                        <p style="color: var(--text-secondary); font-size: 14px; margin-top: 8px;">
                            Powered by Shree AI - 33 AI Models | Video Analysis | Content Generation
                        </p>
                    </div>

                    <div style="padding: 24px;">
                        <!-- AI Chat Assistant -->
                        <div style="background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(255, 0, 180, 0.1) 100%); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 16px; padding: 24px; margin-bottom: 32px;">
                            <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 20px;">
                                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #00d4ff 0%, #ff00b4 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 32px; animation: pulse 2s ease-in-out infinite;">
                                    âœ¨
                                </div>
                                <div>
                                    <h3 style="font-size: 20px; font-weight: 700; color: #00d4ff;">AI Chat Assistant</h3>
                                    <p style="font-size: 14px; color: var(--text-secondary);">Ask anything about your content, get suggestions, analyze videos</p>
                                </div>
                            </div>
                            
                            <div id="aiChatMessages" style="max-height: 400px; overflow-y: auto; margin-bottom: 16px; padding: 16px; background: rgba(0, 0, 0, 0.3); border-radius: 12px; min-height: 200px;">
                                <div style="text-align: center; padding: 40px 20px; color: var(--text-muted);">
                                    <i class="fas fa-robot" style="font-size: 48px; margin-bottom: 16px; opacity: 0.5;"></i>
                                    <p>Start a conversation with your AI assistant</p>
                                    <p style="font-size: 12px; margin-top: 8px;">Try: "Generate 5 video ideas" or "Analyze my latest video"</p>
                                </div>
                            </div>
                            
                            <div style="display: flex; gap: 12px;">
                                <input type="text" id="aiChatInput" placeholder="Ask your AI assistant anything..." 
                                    style="flex: 1; padding: 14px 20px; background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(0, 212, 255, 0.3); border-radius: 24px; color: white; font-size: 14px;"
                                    onkeypress="if(event.key==='Enter') sendAIChatMessage()">
                                <button onclick="sendAIChatMessage()" 
                                    style="width: 50px; height: 50px; background: linear-gradient(135deg, #00d4ff 0%, #0088ff 100%); border: none; border-radius: 50%; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                            
                            <div style="display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap;">
                                <button onclick="quickAIPrompt('Generate 5 viral video ideas for my channel')" class="ai-quick-chip">ðŸ’¡ Video Ideas</button>
                                <button onclick="quickAIPrompt('Analyze my channel performance and give suggestions')" class="ai-quick-chip">ðŸ“Š Channel Analysis</button>
                                <button onclick="quickAIPrompt('Create a catchy title for my latest video')" class="ai-quick-chip">âœ¨ Title Generator</button>
                                <button onclick="quickAIPrompt('Suggest trending topics in my niche')" class="ai-quick-chip">ðŸ”¥ Trending Topics</button>
                            </div>
                        </div>

                        <!-- AI Tools Grid -->
                        <div
                            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 32px;">
                            
                            <!-- Video Frame Analyzer -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #00d4ff 0%, #0088ff 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸŽ¥
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Video Frame Analyzer</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">AI vision analysis</p>
                                    </div>
                                </div>
                                <input type="file" id="videoFrameInput" accept="image/*,video/*"
                                    style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 14px; margin-bottom: 12px;">
                                <textarea id="frameAnalysisQuery" placeholder="What do you want to know about this frame?"
                                    style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 14px; margin-bottom: 12px; resize: vertical;"
                                    rows="2"></textarea>
                                <button onclick="analyzeVideoFrame()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #00d4ff 0%, #0088ff 100%);">
                                    <i class="fas fa-eye"></i> Analyze Frame
                                </button>
                                <div id="frameAnalysisResults" style="margin-top: 16px;"></div>
                            </div>
                            
                            <!-- Title Generator -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: var(--accent-gradient); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        âœ¨
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Title Generator</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">AI-powered titles</p>
                                    </div>
                                </div>
                                <textarea id="aiTitleInput" placeholder="Describe your video..."
                                    style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 14px; margin-bottom: 12px; resize: vertical;"
                                    rows="3"></textarea>
                                <button onclick="generateAITitles()" class="btn-primary"
                                    style="width: 100%; padding: 12px;">
                                    <i class="fas fa-magic"></i> Generate Titles
                                </button>
                                <div id="aiTitleResults" style="margin-top: 16px;"></div>
                            </div>

                            <!-- Tag Generator -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #10b981 0%, #34d399 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸ·ï¸
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Smart Tags</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">SEO-optimized tags</p>
                                    </div>
                                </div>
                                <input type="text" id="aiTagInput" placeholder="Video title..."
                                    style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 14px; margin-bottom: 12px;">
                                <button onclick="generateAITags()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #10b981 0%, #34d399 100%);">
                                    <i class="fas fa-tags"></i> Generate Tags
                                </button>
                                <div id="aiTagResults" style="margin-top: 16px;"></div>
                            </div>

                            <!-- Performance Predictor -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸ“Š
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Performance Predictor</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">Predict video success
                                        </p>
                                    </div>
                                </div>
                                <button onclick="predictPerformance()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #8b5cf6 0%, #a78bfa 100%);">
                                    <i class="fas fa-chart-line"></i> Predict Performance
                                </button>
                                <div id="aiPredictionResults" style="margin-top: 16px;"></div>
                            </div>

                            <!-- Thumbnail Analyzer -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸ–¼ï¸
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Thumbnail Analyzer</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">Optimize thumbnails
                                        </p>
                                    </div>
                                </div>
                                <input type="file" id="thumbnailInput" accept="image/*"
                                    style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 14px; margin-bottom: 12px;">
                                <button onclick="analyzeThumbnail()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);">
                                    <i class="fas fa-search"></i> Analyze Thumbnail
                                </button>
                                <div id="thumbnailAnalysisResults" style="margin-top: 16px;"></div>
                            </div>

                            <!-- Trend Analyzer -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸ”¥
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Trend Analyzer</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">Discover trending
                                            topics</p>
                                    </div>
                                </div>
                                <button onclick="analyzeTrends()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #ec4899 0%, #f472b6 100%);">
                                    <i class="fas fa-fire"></i> Analyze Trends
                                </button>
                                <div id="trendAnalysisResults" style="margin-top: 16px;"></div>
                            </div>

                            <!-- Description Optimizer -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #06b6d4 0%, #22d3ee 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸ“
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">Description Optimizer</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">SEO-friendly
                                            descriptions</p>
                                    </div>
                                </div>
                                <textarea id="descriptionInput" placeholder="Enter your description..."
                                    style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; color: white; font-size: 14px; margin-bottom: 12px; resize: vertical;"
                                    rows="3"></textarea>
                                <button onclick="optimizeDescription()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #06b6d4 0%, #22d3ee 100%);">
                                    <i class="fas fa-magic"></i> Optimize Description
                                </button>
                                <div id="descriptionOptimizationResults" style="margin-top: 16px;"></div>
                            </div>

                            <!-- Channel Health Checker -->
                            <div class="ai-tool-card"
                                style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; grid-column: 1 / -1;">
                                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 16px;">
                                    <div
                                        style="width: 48px; height: 48px; background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px;">
                                        ðŸ©º
                                    </div>
                                    <div>
                                        <h4 style="font-size: 16px; font-weight: 600;">AI Channel Health Checker</h4>
                                        <p style="font-size: 12px; color: var(--text-muted);">Scan, Check, and Fix
                                            channel-wide metadata issues automatically</p>
                                    </div>
                                </div>
                                <button onclick="runHealthCheck()" class="btn-primary"
                                    style="width: 100%; padding: 12px; background: linear-gradient(135deg, #10b981 0%, #06b6d4 100%); font-weight: 700;">
                                    <i class="fas fa-search"></i> START AI DIAGNOSIS
                                </button>
                                <div id="healthCheckResults" style="margin-top: 16px;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Smart Scheduler Page -->
            <div class="page-section" id="scheduler-page">
                <div class="content-card">
                    <div class="content-header">
                        <h3 class="content-title">
                            <i class="fas fa-calendar-alt" style="color: var(--accent-orange);"></i> Smart Scheduler
                        </h3>
                        <button class="btn-primary" onclick="showScheduleModal()">
                            <i class="fas fa-plus"></i> Schedule Video
                        </button>
                    </div>

                    <div style="padding: 24px;">
                        <!-- Optimal Times -->
                        <div
                            style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; margin-bottom: 24px;">
                            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                                <i class="fas fa-clock" style="color: var(--accent-orange);"></i> Optimal Upload
                                Times
                            </h4>
                            <div id="optimalTimesGrid"
                                style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 16px;">
                                <!-- Populated by JavaScript -->
                            </div>
                        </div>

                        <!-- Scheduled Videos -->
                        <div
                            style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                                <i class="fas fa-list" style="color: var(--accent-orange);"></i> Scheduled Videos
                            </h4>
                            <div id="scheduledVideosList">
                                <div style="text-align: center; padding: 40px; color: var(--text-muted);">
                                    <i class="fas fa-calendar-check"
                                        style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
                                    <p>No scheduled videos yet</p>
                                    <p style="font-size: 13px; margin-top: 8px;">Schedule your first video to see it
                                        here</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Collaboration Page -->
            <div class="page-section" id="collaboration-page">
                <div class="content-card">
                    <div class="content-header">
                        <h3 class="content-title">
                            <i class="fas fa-users" style="color: var(--accent-orange);"></i> Collaboration
                        </h3>
                        <button class="btn-primary" onclick="showInviteModal()">
                            <i class="fas fa-user-plus"></i> Invite Collaborator
                        </button>
                    </div>

                    <div style="padding: 24px;">
                        <!-- Team Members -->
                        <div
                            style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; margin-bottom: 24px;">
                            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                                <i class="fas fa-users-cog" style="color: var(--accent-orange);"></i> Team Members
                            </h4>
                            <div id="collaboratorsList">
                                <div style="text-align: center; padding: 40px; color: var(--text-muted);">
                                    <i class="fas fa-user-friends"
                                        style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
                                    <p>No collaborators yet</p>
                                    <p style="font-size: 13px; margin-top: 8px;">Invite team members to collaborate
                                        on your content</p>
                                </div>
                            </div>
                        </div>

                        <!-- Pending Invitations -->
                        <div
                            style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                                <i class="fas fa-envelope" style="color: var(--accent-orange);"></i> Pending
                                Invitations
                            </h4>
                            <div id="pendingInvitationsList">
                                <div style="text-align: center; padding: 40px; color: var(--text-muted);">
                                    <i class="fas fa-paper-plane"
                                        style="font-size: 48px; margin-bottom: 16px; opacity: 0.3;"></i>
                                    <p>No pending invitations</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Content Library Page -->
            <div class="page-section" id="library-page">
                <div class="content-card">
                    <div class="content-header">
                        <h3 class="content-title">
                            <i class="fas fa-folder-open" style="color: var(--accent-orange);"></i> Content Library
                        </h3>
                        <div style="display: flex; gap: 12px;">
                            <button class="btn-primary" onclick="showCreateFolderModal()">
                                <i class="fas fa-folder-plus"></i> New Folder
                            </button>
                            <button class="btn-primary" onclick="showUploadAssetModal()">
                                <i class="fas fa-upload"></i> Upload Asset
                            </button>
                        </div>
                    </div>

                    <div style="padding: 24px;">
                        <div id="libraryGrid"
                            style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 16px;">
                            <div
                                style="text-align: center; padding: 60px 20px; color: var(--text-muted); grid-column: 1 / -1;">
                                <i class="fas fa-folder"
                                    style="font-size: 64px; margin-bottom: 16px; opacity: 0.3;"></i>
                                <p>Your content library is empty</p>
                                <p style="font-size: 13px; margin-top: 8px;">Upload images, videos, and other assets
                                    to organize your content</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- A/B Testing Page -->
            <div class="page-section" id="ab-testing-page">
                <div class="content-card">
                    <div class="content-header">
                        <h3 class="content-title">
                            <i class="fas fa-flask" style="color: var(--accent-orange);"></i> A/B Testing
                        </h3>
                        <button class="btn-primary" onclick="showCreateTestModal()">
                            <i class="fas fa-plus"></i> Create Test
                        </button>
                    </div>

                    <div style="padding: 24px;">
                        <div id="abTestsList">
                            <div style="text-align: center; padding: 60px 20px; color: var(--text-muted);">
                                <i class="fas fa-vial" style="font-size: 64px; margin-bottom: 16px; opacity: 0.3;"></i>
                                <p>No A/B tests running</p>
                                <p style="font-size: 13px; margin-top: 8px;">Test different titles, thumbnails, and
                                    descriptions to optimize performance</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Monetization Pro Page -->
            <div class="page-section" id="monetization-page">
                <div class="content-card">
                    <div class="content-header">
                        <h3 class="content-title">
                            <i class="fas fa-chart-line" style="color: var(--accent-orange);"></i> Monetization Pro
                        </h3>
                    </div>

                    <div style="padding: 24px;">
                        <!-- Revenue Opportunities -->
                        <div
                            style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; margin-bottom: 24px;">
                            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                                <i class="fas fa-lightbulb" style="color: var(--accent-orange);"></i> Revenue
                                Opportunities
                            </h4>
                            <div id="revenueOpportunities">
                                <button onclick="analyzeRevenueOpportunities()" class="btn-primary"
                                    style="width: 100%; padding: 16px;">
                                    <i class="fas fa-search-dollar"></i> Analyze Opportunities
                                </button>
                            </div>
                        </div>

                        <!-- Sponsorship Matches -->
                        <div
                            style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px;">
                            <h4 style="font-size: 16px; font-weight: 600; margin-bottom: 16px;">
                                <i class="fas fa-handshake" style="color: var(--accent-orange);"></i> Sponsorship
                                Matches
                            </h4>
                            <div id="sponsorshipMatches">
                                <button onclick="findSponsorships()" class="btn-primary"
                                    style="width: 100%; padding: 16px;">
                                    <i class="fas fa-search"></i> Find Sponsorships
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    </main>
    </div>

    <!-- Upload Modal -->
    <!-- Upload Modal - Simplified Working Version -->
    <!-- Premium Multi-step Upload Modal -->
    <div class="modal-overlay" id="uploadModal">
        <div class="upload-modal" style="max-width: 1000px; height: 85vh; display: flex; flex-direction: column;">
            <!-- Modal Header -->
            <div class="modal-header">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div id="uploadModalTitle" style="font-weight: 700; font-size: 18px;">Upload Video</div>
                    <div id="uploadStatusBadge"
                        style="padding: 4px 10px; background: rgba(16, 185, 129, 0.1); color: #10b981; border-radius: 50px; font-size: 11px; font-weight: 700; display: none;">
                        <i class="fas fa-check-circle" style="margin-right: 4px;"></i> Saved as private
                    </div>
                </div>
                <div style="display: flex; align-items: center; gap: 16px;">
                    <i class="fas fa-question-circle" style="color: var(--text-muted); cursor: pointer;"
                        title="Help"></i>
                    <button class="modal-close" onclick="closeUploadModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <!-- Stepper Container -->
            <div class="stepper-container" id="uploadStepper">
                <div class="stepper-line">
                    <div class="stepper-line-progress" id="stepperProgress"></div>
                </div>
                <div class="step-item active" data-step="1" onclick="goToUploadStep(1)">
                    <div class="step-circle">1</div>
                    <div class="step-label">Details</div>
                </div>
                <div class="step-item" data-step="2" onclick="goToUploadStep(2)">
                    <div class="step-circle">2</div>
                    <div class="step-label">Video elements</div>
                </div>
                <div class="step-item" data-step="3" onclick="goToUploadStep(3)">
                    <div class="step-circle">3</div>
                    <div class="step-label">Checks</div>
                </div>
                <div class="step-item" data-step="4" onclick="goToUploadStep(4)">
                    <div class="step-circle">4</div>
                    <div class="step-label">Visibility</div>
                </div>
            </div>

            <!-- Modal Body (Scrollable) -->
            <div class="modal-body" style="flex: 1; overflow-y: auto; padding: 0;">

                <!-- Step 0: Initial File Drop (Visible only initially) -->
                <div id="step-file-drop" style="padding: 60px; text-align: center; display: block;">
                    <div class="upload-dropzone" id="dropzone"
                        onclick="document.getElementById('videoFileInput').click()"
                        style="border: 2px dashed rgba(255, 255, 255, 0.1); border-radius: 24px; padding: 80px 40px; background: rgba(255, 255, 255, 0.02);">
                        <div
                            style="width: 100px; height: 100px; background: rgba(255, 69, 0, 0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 24px;">
                            <i class="fas fa-cloud-upload-alt"
                                style="font-size: 40px; color: var(--accent-orange);"></i>
                        </div>
                        <h3 style="font-size: 24px; margin-bottom: 12px; font-weight: 700;">Select video to upload</h3>
                        <p style="color: var(--text-muted); font-size: 14px; max-width: 400px; margin: 0 auto 32px;">
                            Your videos will be private until you publish them. Drag and drop video files to upload
                            them.
                        </p>
                        <button class="btn-primary" style="padding: 14px 40px;">SELECT FILES</button>
                    </div>
                    <input type="file" id="videoFileInput" accept="video/*" style="display: none;">
                    <p style="margin-top: 40px; color: var(--text-muted); font-size: 12px;">
                        By submitting your videos to Bhuban, you acknowledge that you agree to Bhuban's Terms of Service
                        and Community Guidelines.
                    </p>
                </div>

                <!-- Step 1: Details -->
                <div id="step-details"
                    style="display: none; padding: 32px; gap: 32px; grid-template-columns: 1.5fr 1fr;">
                    <div class="details-left">
                        <h3 style="font-size: 24px; font-weight: 700; margin-bottom: 32px;">Details</h3>

                        <!-- Title -->
                        <div style="margin-bottom: 32px;">
                            <div
                                style="border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 12px; background: rgba(255, 255, 255, 0.02);">
                                <label for="uploadVideoTitle"
                                    style="display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 4px;">Title
                                    (required)</label>
                                <input type="text" id="uploadVideoTitle"
                                    placeholder="Add a title that describes your video"
                                    style="width: 100%; background: transparent; border: none; color: white; font-size: 15px; outline: none;"
                                    maxlength="100">
                                <div id="uploadTitleCount"
                                    style="text-align: right; font-size: 11px; color: var(--text-muted); margin-top: 4px;">
                                    0/100</div>
                            </div>
                        </div>

                        <!-- Description -->
                        <div style="margin-bottom: 32px;">
                            <div
                                style="border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; padding: 12px; background: rgba(255, 255, 255, 0.02);">
                                <label for="uploadVideoDesc"
                                    style="display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 4px;">Description</label>
                                <textarea id="uploadVideoDesc" placeholder="Tell viewers about your video"
                                    style="width: 100%; height: 120px; background: transparent; border: none; color: white; font-size: 14px; outline: none; resize: none;"
                                    maxlength="500"></textarea>
                                <div id="uploadDescCount"
                                    style="text-align: right; font-size: 11px; color: var(--text-muted); margin-top: 4px;">
                                    0/500</div>
                            </div>
                        </div>

                        <!-- Thumbnail -->
                        <div style="margin-bottom: 32px;">
                            <h4 style="font-size: 15px; font-weight: 600; margin-bottom: 8px;">Thumbnail</h4>
                            <p style="font-size: 13px; color: var(--text-muted); margin-bottom: 16px;">
                                Select or upload a picture that shows what's in your video. A good thumbnail stands out
                                and draws viewers' attention.
                            </p>
                            <div class="thumbnail-selection">
                                <div class="thumbnail-option"
                                    onclick="document.getElementById('thumbFileInput').click()">
                                    <i class="fas fa-image"></i>
                                    <span>Upload file</span>
                                    <input type="file" id="thumbFileInput" accept="image/*" style="display: none;">
                                </div>
                                <div class="thumbnail-option active">
                                    <div
                                        style="width: 100%; height: 100%; background: rgba(255, 255, 255, 0.05); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-magic" style="font-size: 16px; opacity: 0.5;"></i>
                                    </div>
                                    <span style="position: absolute; bottom: 8px;">Auto-generated</span>
                                </div>
                                <div class="thumbnail-option">
                                    <div
                                        style="width: 100%; height: 100%; background: rgba(255, 255, 255, 0.05); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                        <i class="fas fa-flask" style="font-size: 16px; opacity: 0.5;"></i>
                                    </div>
                                    <span style="position: absolute; bottom: 8px;">A/B Testing</span>
                                </div>
                                <div class="thumbnail-option disabled" style="opacity: 0.5; cursor: not-allowed;">
                                    <i class="fas fa-lock" style="font-size: 14px;"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Playlists -->
                        <div style="margin-bottom: 32px;">
                            <h4 style="font-size: 15px; font-weight: 600; margin-bottom: 8px;">Playlists</h4>
                            <p style="font-size: 13px; color: var(--text-muted); margin-bottom: 12px;">
                                Add your video to one or more playlists to organize your content for viewers.
                            </p>
                            <select id="uploadPlaylistSelect"
                                style="width: 100%; background: var(--bg-card); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 8px; color: white; padding: 12px; font-size: 14px; outline: none;">
                                <option value="">Select</option>
                                <option value="highlights">Highlights</option>
                                <option value="vlogs">Vlogs</option>
                                <option value="tutorials">Tutorials</option>
                            </select>
                        </div>

                        <!-- Audience -->
                        <div class="audience-section">
                            <h4 style="font-size: 15px; font-weight: 600;">Audience</h4>
                            <p style="font-size: 13px; color: var(--text-muted); margin-top: 4px;">
                                Is this video made for kids? (required)
                            </p>
                            <div class="audience-option">
                                <input type="radio" name="audience" id="audience-kids" value="kids">
                                <label for="audience-kids">
                                    <div class="audience-label">Yes, it's made for kids</div>
                                    <div class="audience-desc">Features like personalized ads and notifications won't
                                        be available.</div>
                                </label>
                            </div>
                            <div class="audience-option">
                                <input type="radio" name="audience" id="audience-not-kids" value="not-kids" checked>
                                <label for="audience-not-kids">
                                    <div class="audience-label">No, it's not made for kids</div>
                                    <div class="audience-desc">Age restriction (advanced) settings can be applied
                                        later.</div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="details-right">
                        <!-- Video Preview Card -->
                        <div
                            style="background: var(--bg-secondary); border-radius: 12px; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.05); position: sticky; top: 0;">
                            <div id="videoPreviewBox"
                                style="width: 100%; aspect-ratio: 16/9; background: #000; display: flex; align-items: center; justify-content: center; position: relative;">
                                <i class="fas fa-play-circle" style="font-size: 48px; opacity: 0.3;"></i>
                                <video id="uploadPreviewVideo"
                                    style="width: 100%; height: 100%; display: none; object-fit: contain;"></video>
                                <div id="uploadProgressOverlay"
                                    style="position: absolute; bottom: 0; left: 0; right: 0; height: 4px; background: rgba(255, 255, 255, 0.1);">
                                    <div id="uploadProgressBar"
                                        style="height: 100%; background: var(--accent-orange); width: 0%; transition: width 0.3s;">
                                    </div>
                                </div>
                            </div>
                            <div style="padding: 16px;">
                                <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 4px;">Video link
                                </div>
                                <a href="#" id="uploadVideoLink"
                                    style="color: var(--accent-orange); font-size: 14px; text-decoration: none; word-break: break-all; margin-bottom: 16px; display: block;">Generating
                                    link...</a>

                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-size: 12px; color: var(--text-muted);">Filename</div>
                                        <div id="uploadFileNameDisplay" style="font-size: 13px; font-weight: 500;">
                                            video.mp4</div>
                                    </div>
                                    <i class="fas fa-copy" style="color: var(--text-muted); cursor: pointer;"
                                        title="Copy link"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Upload Status Mini -->
                        <div
                            style="margin-top: 24px; padding: 16px; background: rgba(0,0,0,0.2); border-radius: 12px; border: 1px solid rgba(255,255,255,0.05);">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <i class="fas fa-arrow-up" id="miniUploadIcon" style="color: var(--accent-orange);"></i>
                                <div style="flex: 1;">
                                    <div id="miniUploadStatus" style="font-size: 13px; font-weight: 600;">Uploading
                                        13%...</div>
                                    <div id="miniUploadTime" style="font-size: 11px; color: var(--text-muted);">4
                                        minutes left</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Video Elements -->
                <div id="step-elements" style="display: none; padding: 40px 80px;">
                    <h3 style="font-size: 24px; font-weight: 700; margin-bottom: 8px;">Video elements</h3>
                    <p style="color: var(--text-muted); margin-bottom: 32px;">
                        Use cards and an end screen to show viewers related videos, websites, and calls to action. <a
                            href="#" style="color: #3b82f6; text-decoration: none;">Learn more</a>
                    </p>

                    <div style="display: flex; flex-direction: column; gap: 20px;">
                        <!-- Subtitles -->
                        <div
                            style="display: flex; align-items: center; justify-content: space-between; padding: 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px;">
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <div
                                    style="width: 48px; height: 48px; background: rgba(255,255,255,0.03); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-closed-captioning"
                                        style="font-size: 20px; color: var(--text-muted);"></i>
                                </div>
                                <div>
                                    <h5 style="font-size: 15px; margin-bottom: 2px;">Add subtitles</h5>
                                    <p style="font-size: 12px; color: var(--text-muted);">Reach a broader audience by
                                        adding subtitles to your video.</p>
                                </div>
                            </div>
                            <button class="btn-secondary" style="padding: 8px 24px; font-weight: 600;">ADD</button>
                        </div>

                        <!-- End Screen -->
                        <div
                            style="display: flex; align-items: center; justify-content: space-between; padding: 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px;">
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <div
                                    style="width: 48px; height: 48px; background: rgba(255,255,255,0.03); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-film" style="font-size: 20px; color: var(--text-muted);"></i>
                                </div>
                                <div>
                                    <h5 style="font-size: 15px; margin-bottom: 2px;">Add an end screen</h5>
                                    <p style="font-size: 12px; color: var(--text-muted);">Promote related content at the
                                        end of your video.</p>
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn-secondary" style="padding: 8px 16px; font-weight: 600;">Import from
                                    video</button>
                                <button class="btn-secondary" style="padding: 8px 24px; font-weight: 600;">ADD</button>
                            </div>
                        </div>

                        <!-- Cards -->
                        <div
                            style="display: flex; align-items: center; justify-content: space-between; padding: 20px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); border-radius: 12px;">
                            <div style="display: flex; align-items: center; gap: 20px;">
                                <div
                                    style="width: 48px; height: 48px; background: rgba(255,255,255,0.03); border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    <i class="fas fa-info-circle"
                                        style="font-size: 20px; color: var(--text-muted);"></i>
                                </div>
                                <div>
                                    <h5 style="font-size: 15px; margin-bottom: 2px;">Add cards</h5>
                                    <p style="font-size: 12px; color: var(--text-muted);">Promote related content during
                                        your video.</p>
                                </div>
                            </div>
                            <button class="btn-secondary" style="padding: 8px 24px; font-weight: 600;">ADD</button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Checks -->
                <div id="step-checks" style="display: none; padding: 60px 100px;">
                    <h3 style="font-size: 24px; font-weight: 700; margin-bottom: 12px;">Checks</h3>
                    <p style="color: var(--text-muted); margin-bottom: 40px;">
                        We'll check your video for issues that may restrict its visibility and then you will have the
                        opportunity to fix issues before publishing your video.
                    </p>

                    <div class="check-item">
                        <div class="check-icon" id="copyrightCheckIcon">
                            <i class="fas fa-spinner fa-spin" style="color: var(--accent-orange);"></i>
                        </div>
                        <div class="check-details">
                            <h4 id="copyrightCheckTitle">Copyright</h4>
                            <p id="copyrightCheckStatus">Checking if your video contains any copyrighted content...</p>
                            <div id="checkProgressBar"
                                style="width: 200px; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-top: 12px; display: block;">
                                <div id="checkProgressFill"
                                    style="height: 100%; background: var(--accent-orange); width: 0%; transition: width 0.5s;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <p
                        style="font-size: 13px; color: var(--text-muted); margin-top: 40px; border-top: 1px solid rgba(255,255,255,0.05); padding-top: 24px;">
                        Remember: These check results aren't final. Issues may come up in the future that impact your
                        video. <a href="#" style="color: var(--accent-orange); text-decoration: none;">Learn more</a>
                    </p>
                </div>

                <!-- Step 4: Visibility -->
                <div id="step-visibility" style="display: none; padding: 40px 60px;">
                    <div style="display: grid; grid-template-columns: 2fr 1.2fr; gap: 40px;">
                        <div class="visibility-left">
                            <h3 style="font-size: 20px; font-weight: 700; margin-bottom: 4px;">Save or publish</h3>
                            <p style="color: var(--text-muted); font-size: 13px; margin-bottom: 24px;">
                                Make your video <b>public, unlisted, or private</b>
                            </p>

                            <div class="visibility-options"
                                style="border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 0;">
                                <div class="visibility-card active" onclick="selectUploadVisibility('private')"
                                    style="border-radius: 12px 12px 0 0; border: none; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <i class="fas fa-lock" style="font-size: 18px;"></i>
                                    <div class="visibility-info">
                                        <h5 style="font-size: 14px;">Private</h5>
                                        <p style="font-size: 12px;">Only you and people you choose can watch your video
                                        </p>
                                    </div>
                                    <input type="radio" name="videoVisibility" value="private" checked
                                        style="margin-left: auto;">
                                </div>

                                <div class="visibility-card" onclick="selectUploadVisibility('unlisted')"
                                    style="border-radius: 0; border: none; border-bottom: 1px solid rgba(255,255,255,0.05);">
                                    <i class="fas fa-link" style="font-size: 18px;"></i>
                                    <div class="visibility-info">
                                        <h5 style="font-size: 14px;">Unlisted</h5>
                                        <p style="font-size: 12px;">Anyone with the video link can watch your video</p>
                                    </div>
                                    <input type="radio" name="videoVisibility" value="unlisted"
                                        style="margin-left: auto;">
                                </div>

                                <div class="visibility-card" onclick="selectUploadVisibility('public')"
                                    style="border-radius: 0 0 12px 12px; border: none;">
                                    <i class="fas fa-globe" style="font-size: 18px;"></i>
                                    <div class="visibility-info">
                                        <h5 style="font-size: 14px;">Public</h5>
                                        <p style="font-size: 12px;">Everyone can watch your video</p>
                                    </div>
                                    <input type="radio" name="videoVisibility" value="public"
                                        style="margin-left: auto;">
                                </div>
                            </div>

                            <div class="premiere-box">
                                <input type="checkbox" id="setPremiere">
                                <label for="setPremiere" style="font-size: 13px; cursor: pointer;">Set as instant
                                    Premiere <i class="far fa-question-circle"
                                        style="margin-left: 4px; opacity: 0.6;"></i></label>
                            </div>

                            <!-- Schedule Section -->
                            <div class="schedule-box">
                                <div class="schedule-header">
                                    <h4 style="font-size: 16px; font-weight: 700;">Schedule</h4>
                                    <i class="fas fa-chevron-down" style="font-size: 12px; opacity: 0.6;"></i>
                                </div>
                                <p style="color: var(--text-muted); font-size: 13px; margin-bottom: 16px;">Select a date
                                    to make your video public.</p>
                                <div class="schedule-inputs">
                                    <div class="schedule-input-group">
                                        <label for="scheduleDate">Date</label>
                                        <input type="date" id="scheduleDate" name="scheduleDate" value="2026-02-21">
                                    </div>
                                    <div class="schedule-input-group">
                                        <label for="scheduleTime">Time</label>
                                        <select id="scheduleTime" name="scheduleTime">
                                            <option>12:00 AM</option>
                                            <option>12:15 AM</option>
                                            <option>12:30 AM</option>
                                            <option selected>06:00 PM</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- Publish Checklist -->
                            <div class="publish-checklist">
                                <h4 class="checklist-title">Before you publish, check the following:</h4>
                                <div class="checklist-item">
                                    <div class="checklist-label">Do kids appear in this video?</div>
                                    <div class="checklist-desc">Make sure you follow our policies to protect minors from
                                        harm, exploitation, bullying, and violations of labor law. <a href="#"
                                            style="color: #3b82f6;">Learn more</a></div>
                                </div>
                                <div class="checklist-item" style="margin-top: 12px;">
                                    <div class="checklist-label">Looking for overall content guidance?</div>
                                    <div class="checklist-desc">Our Community Guidelines can help you avoid trouble and
                                        ensure that Bhuban remains a safe and vibrant community. <a href="#"
                                            style="color: #3b82f6;">Learn more</a></div>
                                </div>
                            </div>
                        </div>

                        <div class="visibility-right">
                            <div
                                style="background: var(--bg-secondary); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; overflow: hidden; position: sticky; top: 0;">
                                <div
                                    style="aspect-ratio: 16/9; background: #000; position: relative; display: flex; align-items: center; justify-content: center;">
                                    <div id="visibilityPreviewPlaceholder" style="text-align: center;">
                                        <i class="fas fa-cloud-upload-alt"
                                            style="font-size: 32px; color: var(--accent-orange); margin-bottom: 12px; opacity: 0.5;"></i>
                                        <div style="font-size: 12px; color: var(--text-muted);">Uploading video...</div>
                                    </div>
                                    <video id="visibilityPreviewVideo"
                                        style="width: 100%; height: 100%; display: none; object-fit: contain;"></video>
                                </div>
                                <div style="padding: 16px;">
                                    <div id="visibilityPreviewTitle"
                                        style="font-weight: 700; font-size: 14px; margin-bottom: 12px;">V11</div>
                                    <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 4px;">Video
                                        link</div>
                                    <div
                                        style="display: flex; align-items: center; gap: 10px; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 8px;">
                                        <a href="#" id="visibilityVideoLink"
                                            style="color: #3b82f6; font-size: 12px; text-decoration: none; flex: 1; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">https://youtu.be/JnwcG5kvGc8</a>
                                        <i class="fas fa-copy"
                                            style="font-size: 14px; color: var(--text-muted); cursor: pointer;"
                                            title="Copy link"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="modal-footer" id="uploadModalFooter"
                style="display: none; align-items: center; justify-content: space-between; padding: 16px 32px; border-top: 1px solid rgba(255, 255, 255, 0.05);">
                <div style="display: flex; align-items: center; gap: 12px;">
                    <i class="fas fa-check-circle" id="footerCheckIcon" style="color: #10b981; font-size: 18px;"></i>
                    <div id="footerCheckStatus" style="font-size: 13px; color: var(--text-muted);">Upload complete â€¢
                        Checks finished</div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <button class="btn-secondary" id="prevStepBtn" onclick="prevUploadStep()"
                        style="display: none; padding: 10px 24px; font-weight: 700; font-size: 13px;">BACK</button>
                    <button class="btn-primary" id="nextStepBtn" onclick="nextUploadStep()"
                        style="padding: 10px 24px; font-weight: 700; font-size: 13px;">NEXT</button>
                    <button class="btn-primary" id="publishBtn" onclick="startFinalPublish()"
                        style="display: none; background: var(--accent-orange); padding: 10px 24px; font-weight: 700; font-size: 13px;">PUBLISH</button>
                </div>
            </div>
        </div>
    </div>

    <canvas id="hiddenThumbCanvas" style="display: none;"></canvas>

    <script>
        // Premium Multi-step Upload Logic
        let currentUploadStep = 0;
        let uploadFile = null;
        let uploadIsProcessing = false;
        let checksPassed = false;
        let generatedThumbs = [];
        let customThumb = null;
        let selectedThumbIndex = -1;

        function openUploadModal() {
            const modal = document.getElementById('uploadModal');
            if (modal) {
                modal.classList.add('active');
                resetUploadModal();
            }
        }

        function closeUploadModal() {
            if (uploadIsProcessing && !confirm('Your upload is not finished. Are you sure you want to cancel?')) {
                return;
            }
            const modal = document.getElementById('uploadModal');
            if (modal) {
                modal.classList.remove('active');
                resetUploadModal();
            }
        }

        function resetUploadModal() {
            currentUploadStep = 0;
            uploadFile = null;
            uploadIsProcessing = false;
            checksPassed = false;
            generatedThumbs = [];
            customThumb = null;
            selectedThumbIndex = -1;

            // Reset UI Visibility
            const steps = ['step-file-drop', 'step-details', 'step-elements', 'step-checks', 'step-visibility'];
            steps.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.style.display = (id === 'step-file-drop') ? 'block' : 'none';
            });

            const stepper = document.getElementById('uploadStepper');
            if (stepper) stepper.style.display = 'none';

            const footer = document.getElementById('uploadModalFooter');
            if (footer) footer.style.display = 'none';

            const badge = document.getElementById('uploadStatusBadge');
            if (badge) badge.style.display = 'none';

            const title = document.getElementById('uploadModalTitle');
            if (title) title.textContent = 'Upload Video';

            // Reset Stepper
            const prog = document.getElementById('stepperProgress');
            if (prog) prog.style.width = '0%';

            document.querySelectorAll('.step-item').forEach(s => {
                s.classList.remove('active', 'completed');
                if (s.dataset.step == "1") s.classList.add('active');
            });

            // Reset Preview
            const previewVideo = document.getElementById('uploadPreviewVideo');
            if (previewVideo) {
                previewVideo.src = '';
                previewVideo.style.display = 'none';
            }

            // Reset thumbnail selection UI
            renderGeneratedThumbnails();
        }

        // File Selection Listener
        document.addEventListener('DOMContentLoaded', function () {
            const input = document.getElementById('videoFileInput');
            if (input) {
                input.addEventListener('change', function (e) {
                    const file = e.target.files[0];
                    if (file) handleUploadFileSelect(file);
                });
            }

            // Thumbnail Upload Listener (delegated since it's re-rendered)
            document.addEventListener('change', function (e) {
                if (e.target && e.target.id === 'thumbFileInput') {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = function (event) {
                            customThumb = event.target.result;
                            selectedThumbIndex = 'custom';
                            renderGeneratedThumbnails();
                        };
                        reader.readAsDataURL(file);
                    }
                }
            });
        });

        function handleUploadFileSelect(file) {
            if (!file.type.startsWith('video/')) {
                alert('Please select a valid video file.');
                return;
            }

            uploadFile = file;
            uploadIsProcessing = true;

            // UI Transition
            const dropzone = document.getElementById('step-file-drop');
            if (dropzone) dropzone.style.display = 'none';

            const stepper = document.getElementById('uploadStepper');
            if (stepper) stepper.style.display = 'flex';

            const footer = document.getElementById('uploadModalFooter');
            if (footer) footer.style.display = 'flex';

            const badge = document.getElementById('uploadStatusBadge');
            if (badge) badge.style.display = 'block';

            goToUploadStep(1);

            // Auto-fill title
            const name = file.name.split('.')[0].replace(/[-_]/g, ' ');
            const titleInput = document.getElementById('uploadVideoTitle');
            if (titleInput) {
                titleInput.value = name.charAt(0).toUpperCase() + name.slice(1);
                document.getElementById('uploadTitleCount').textContent = titleInput.value.length + '/100';
            }

            const fileDisplay = document.getElementById('uploadFileNameDisplay');
            if (fileDisplay) fileDisplay.textContent = file.name;

            // Preview Video and Generate Thumbnails
            const previewVideo = document.getElementById('uploadPreviewVideo');
            if (previewVideo) {
                const videoUrl = URL.createObjectURL(file);
                previewVideo.src = videoUrl;
                previewVideo.style.display = 'block';

                generateVideoThumbnails(videoUrl);
            }

            // Start Upload Background Simulation
            startBackgroundUpload(file);
        }

        async function generateVideoThumbnails(videoUrl) {
            const video = document.createElement('video');
            video.src = videoUrl;
            video.muted = true;

            await new Promise(r => video.onloadedmetadata = r);

            const times = [2, video.duration / 2, video.duration - 2];
            generatedThumbs = [];
            const canvas = document.getElementById('hiddenThumbCanvas');
            const ctx = canvas.getContext('2d');

            for (let time of times) {
                video.currentTime = time;
                await new Promise(r => video.onseeked = r);

                canvas.width = 320;
                canvas.height = 180;
                ctx.drawImage(video, 0, 0, 320, 180);
                generatedThumbs.push(canvas.toDataURL('image/jpeg', 0.8));
            }

            renderGeneratedThumbnails();
        }

        function renderGeneratedThumbnails() {
            const container = document.querySelector('.thumbnail-selection');
            if (!container) return;

            let html = `
                <div class="thumbnail-option ${selectedThumbIndex === 'custom' ? 'active' : ''}" onclick="document.getElementById('thumbFileInput').click()">
                    ${customThumb ? `<img src="${customThumb}" class="thumbnail-img">` : `
                        <i class="fas fa-image"></i>
                        <span>Upload file</span>
                    `}
                    <input type="file" id="thumbFileInput" accept="image/*" style="display: none;">
                </div>
            `;

            generatedThumbs.forEach((thumb, index) => {
                html += `
                    <div class="thumbnail-option ${selectedThumbIndex === index ? 'active' : ''}" onclick="selectThumb(${index})">
                        <img src="${thumb}" class="thumbnail-img">
                    </div>
                `;
            });

            // Fill empty slots if needed (up to 3 generated)
            for (let i = generatedThumbs.length; i < 3; i++) {
                html += `<div class="thumbnail-option disabled"><i class="fas fa-magic" style="opacity: 0.2"></i></div>`;
            }

            container.innerHTML = html;
        }

        function selectThumb(index) {
            selectedThumbIndex = index;
            renderGeneratedThumbnails();

            // Sync with visibility preview
            const visThumb = document.getElementById('visibilityPreviewPlaceholder');
            const visVideo = document.getElementById('visibilityPreviewVideo');
            if (visThumb && visVideo) {
                const thumbUrl = index === 'custom' ? customThumb : generatedThumbs[index];
                if (thumbUrl) {
                    visThumb.innerHTML = `<img src="${thumbUrl}" style="width:100%; height:100%; object-fit:cover;">`;
                    visThumb.style.display = 'block';
                    visVideo.style.display = 'none';
                }
            }
        }

        function goToUploadStep(step) {
            if (!uploadFile) return;
            if (step > currentUploadStep + 1 && step != 1) return;

            const stepIds = ['step-details', 'step-elements', 'step-checks', 'step-visibility'];
            stepIds.forEach((id, idx) => {
                const el = document.getElementById(id);
                if (el) {
                    if (idx + 1 === step) {
                        el.style.display = (step === 1) ? 'grid' : 'block';
                    } else {
                        el.style.display = 'none';
                    }
                }
            });

            currentUploadStep = step;
            updateStepperUI();

            // Sync Visibility Step Preview
            if (step === 4) {
                const titleVal = document.getElementById('uploadVideoTitle').value;
                const linkVal = document.getElementById('uploadVideoLink').textContent;

                const visTitle = document.getElementById('visibilityPreviewTitle');
                if (visTitle) visTitle.textContent = titleVal || 'Untitled Video';

                const visLink = document.getElementById('visibilityVideoLink');
                if (visLink) {
                    visLink.textContent = linkVal;
                    visLink.href = linkVal;
                }

                const visPlaceholder = document.getElementById('visibilityPreviewPlaceholder');
                const visVideo = document.getElementById('visibilityPreviewVideo');
                const mainPreview = document.getElementById('uploadPreviewVideo');

                if (mainPreview && mainPreview.src && visVideo) {
                    visVideo.src = mainPreview.src;
                    visVideo.style.display = 'block';
                    if (visPlaceholder) visPlaceholder.style.display = 'none';
                }
            }

            // Footer buttons logic
            const prev = document.getElementById('prevStepBtn');
            const next = document.getElementById('nextStepBtn');
            const pub = document.getElementById('publishBtn');

            if (prev) prev.style.display = (step > 1) ? 'block' : 'none';
            if (next) next.style.display = (step < 4) ? 'block' : 'none';
            if (pub) pub.style.display = (step === 4) ? 'block' : 'none';

            if (step === 3 && !checksPassed) simulateCopyrightCheck();
        }

        function nextUploadStep() {
            if (currentUploadStep < 4) goToUploadStep(currentUploadStep + 1);
        }

        function prevUploadStep() {
            if (currentUploadStep > 1) goToUploadStep(currentUploadStep - 1);
        }

        function updateStepperUI() {
            const steps = document.querySelectorAll('.step-item');
            steps.forEach(s => {
                const sNum = parseInt(s.dataset.step);
                s.classList.remove('active', 'completed');
                if (sNum === currentUploadStep) s.classList.add('active');
                if (sNum < currentUploadStep) s.classList.add('completed');
            });

            const progress = ((currentUploadStep - 1) / 3) * 100;
            const bar = document.getElementById('stepperProgress');
            if (bar) bar.style.width = progress + '%';
        }

        function selectUploadVisibility(type) {
            document.querySelectorAll('.visibility-card').forEach(c => c.classList.remove('active'));
            const radio = document.querySelector(`.visibility-card input[value="${type}"]`);
            if (radio) {
                radio.parentElement.classList.add('active');
                radio.checked = true;
            }
        }

        function simulateCopyrightCheck() {
            const bar = document.getElementById('checkProgressFill');
            const status = document.getElementById('copyrightCheckStatus');
            const icon = document.getElementById('copyrightCheckIcon');
            if (!bar || !status || !icon) return;

            // Reset UI
            document.getElementById('checkProgressBar').style.display = 'block';
            bar.style.width = '0%';
            status.textContent = 'Checking if your video contains any copyrighted content...';
            icon.innerHTML = '<i class="fas fa-spinner fa-spin" style="color: var(--accent-orange);"></i>';

            let prog = 0;
            const interval = setInterval(() => {
                prog += 5 + Math.random() * 10;
                if (prog >= 100) {
                    prog = 100;
                    clearInterval(interval);

                    // 30% chance of a mock copyright issue
                    if (Math.random() > 0.7) {
                        checksPassed = false;
                        status.innerHTML = '<span style="color: var(--error);">Copyright claim found (Audio)</span> <button onclick="resolveCopyrightIssue()" style="margin-left: 10px; padding: 4px 12px; background: var(--error); border: none; border-radius: 4px; color: white; font-size: 11px; cursor: pointer; font-weight: 700;">RESOLVE</button>';
                        icon.innerHTML = '<i class="fas fa-exclamation-triangle" style="color: var(--error);"></i>';
                        document.getElementById('footerCheckStatus').innerHTML = '<span style="color: var(--error);">Issue found. Click resolve to fix.</span>';
                    } else {
                        checksPassed = true;
                        status.textContent = 'No issues found.';
                        icon.innerHTML = '<i class="fas fa-check-circle" style="color: #10b981;"></i>';
                        document.getElementById('checkProgressBar').style.display = 'none';
                        document.getElementById('footerCheckStatus').textContent = 'Checks complete. No issues found.';
                    }
                }
                bar.style.width = prog + '%';
            }, 300);
        }

        function resolveCopyrightIssue() {
            const status = document.getElementById('copyrightCheckStatus');
            const icon = document.getElementById('copyrightCheckIcon');
            const footerStatus = document.getElementById('footerCheckStatus');

            status.innerHTML = '<i class="fas fa-cog fa-spin"></i> Applying AI fix: Muting claimed segment...';

            setTimeout(() => {
                checksPassed = true;
                status.textContent = 'Issue resolved. Video is safe to publish.';
                status.style.color = '#10b981';
                icon.innerHTML = '<i class="fas fa-check-circle" style="color: #10b981;"></i>';
                document.getElementById('checkProgressBar').style.display = 'none';
                if (footerStatus) footerStatus.textContent = 'Checks complete. No issues found (Resolved).';
                showNotification('Copyright issue solved by AI!', 'success');
            }, 2000);
        }

        function startBackgroundUpload(file) {
            const bar = document.getElementById('uploadProgressBar');
            const miniStatus = document.getElementById('miniUploadStatus');
            if (!bar || !miniStatus) return;

            let prog = 0;
            const interval = setInterval(() => {
                prog += 2 + Math.random() * 5;
                if (prog >= 100) {
                    prog = 100;
                    clearInterval(interval);
                    miniStatus.textContent = 'Upload complete â€¢ Processing...';
                    setTimeout(() => {
                        miniStatus.textContent = 'Processing complete';
                        const icon = document.getElementById('miniUploadIcon');
                        if (icon) {
                            icon.className = 'fas fa-check-circle';
                            icon.style.color = '#10b981';
                        }
                        const link = document.getElementById('uploadVideoLink');
                        if (link) link.textContent = 'https://youtu.be/' + Math.random().toString(36).substr(2, 9);
                    }, 2000);
                }
                bar.style.width = prog + '%';
                if (prog < 100) miniStatus.textContent = `Uploading ${Math.floor(prog)}%...`;
            }, 500);
        }

        async function startFinalPublish() {
            const titleInput = document.getElementById('uploadVideoTitle');
            if (!titleInput || !titleInput.value.trim()) {
                alert('Please enter a title.');
                goToUploadStep(1);
                return;
            }

            const btn = document.getElementById('publishBtn');
            btn.disabled = true;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> PUBLISHING...';

            // Collect Metadata
            const visibilityData = document.querySelector('input[name="videoVisibility"]:checked')?.value || 'private';
            const audienceData = document.querySelector('input[name="audience"]:checked')?.value || 'not-kids';

            let finalThumbnail = null;
            if (selectedThumbIndex === 'custom') {
                finalThumbnail = customThumb;
            } else if (selectedThumbIndex >= 0 && generatedThumbs[selectedThumbIndex]) {
                finalThumbnail = generatedThumbs[selectedThumbIndex];
            }

            const videoData = {
                title: titleInput.value.trim(),
                description: document.getElementById('uploadVideoDesc').value,
                visibility: visibilityData,
                audience: audienceData,
                thumbnail: finalThumbnail,
                fileName: uploadFile ? uploadFile.name : '',
                publishedAt: new Date().toISOString()
            };

            console.log('Publishing Video:', videoData);

            setTimeout(() => {
                alert('ðŸš€ Your video has been published successfully!');
                closeUploadModal();
                if (typeof renderVideoList === 'function') renderVideoList();
                location.reload();
            }, 2000);
        }
    </script>

    <style>
        /* Modern Upload Modal Styles */
        .upload-dropzone {
            border: 3px dashed rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 60px 40px;
            text-align: center;
            background: var(--bg-card);
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 24px;
        }

        .upload-dropzone:hover {
            border-color: var(--accent-orange);
            background: rgba(255, 107, 53, 0.05);
            transform: translateY(-2px);
        }

        .upload-dropzone.has-file {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.05);
        }

        .dropzone-icon {
            font-size: 64px;
            color: var(--accent-orange);
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        .browse-btn {
            padding: 12px 32px;
            background: var(--accent-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .browse-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 107, 53, 0.4);
        }

        .form-section {
            animation: slideUp 0.4s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-group {
            margin-bottom: 24px;
            position: relative;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .form-label i {
            color: var(--accent-orange);
            margin-right: 8px;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-card);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--accent-orange);
            box-shadow: 0 0 0 4px rgba(255, 107, 53, 0.1);
        }

        .char-count {
            position: absolute;
            right: 12px;
            bottom: -20px;
            font-size: 11px;
            color: var(--text-muted);
        }

        .upload-progress-section {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
        }

        .progress-info {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .progress-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 107, 53, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--accent-orange);
        }

        .progress-details {
            flex: 1;
        }

        .progress-status {
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .progress-percent {
            font-size: 24px;
            font-weight: 800;
            color: var(--accent-orange);
        }

        .progress-bar-container {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-bar-fill {
            height: 100%;
            background: var(--accent-gradient);
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .modal-footer {
            display: flex;
            gap: 12px;
            padding: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .btn-cancel {
            flex: 1;
            padding: 14px 24px;
            background: var(--bg-card);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-primary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-cancel:hover {
            border-color: var(--accent-red);
            color: var(--accent-red);
        }

        .btn-publish {
            flex: 2;
            padding: 14px 32px;
            background: var(--accent-gradient);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 700;
            font-size: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(255, 107, 53, 0.3);
        }

        .btn-publish:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(255, 107, 53, 0.5);
        }

        .btn-publish:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-publish:active:not(:disabled) {
            transform: translateY(0);
        }
    </style>

    <script>
        console.log('ðŸ”§ Main script loading...');

        // ==========================================
        // OPENING ANIMATION
        // ==========================================
        async function playOpeningAnimation() {
            console.log('ðŸŽ¬ Starting opening animation...');

            // Safety timeout - force hide overlay after 3 seconds
            const safetyTimeout = setTimeout(() => {
                console.warn('âš ï¸ Animation timeout - forcing overlay hide');
                const overlay = document.getElementById('openingOverlay');
                if (overlay) {
                    overlay.style.display = 'none';
                }
            }, 3000);

            try {
                const logo = document.getElementById('openingLogo');
                const title = document.getElementById('openingTitle');
                const subtitle = document.getElementById('openingSubtitle');
                const progress = document.getElementById('openingProgress');
                const progressBar = document.getElementById('openingProgressBar');
                const bootText = document.getElementById('bootText');
                const overlay = document.getElementById('openingOverlay');
                const orbitRings = document.querySelectorAll('.orbit-ring');

                // If overlay doesn't exist, skip animation
                if (!overlay) {
                    console.log('âœ… No opening overlay found, skipping animation');
                    clearTimeout(safetyTimeout);
                    return;
                }

                console.log('ðŸŽ¨ Animating logo...');
                const bootMessages = [
                    'Initializing creative engine...',
                    'Loading studio modules...',
                    'Ready to create!'
                ];

                // Activate logo (faster)
                await new Promise(r => setTimeout(r, 200));
                if (logo) logo.classList.add('active');
                orbitRings.forEach((ring, i) => {
                    setTimeout(() => ring.classList.add('active'), i * 100);
                });

                // Activate title (faster)
                await new Promise(r => setTimeout(r, 400));
                if (title) title.classList.add('active');
                if (subtitle) subtitle.classList.add('active');
                if (progress) progress.classList.add('active');
                if (bootText) bootText.classList.add('active');

                console.log('â³ Running progress animation...');
                // Progress animation (much faster)
                for (let i = 0; i <= 100; i += 20) {
                    await new Promise(r => setTimeout(r, 30));
                    if (progressBar) progressBar.style.width = i + '%';
                    const msgIndex = Math.min(Math.floor(i / 40), bootMessages.length - 1);
                    if (bootText) bootText.textContent = bootMessages[msgIndex];
                }

                // Exit animation (faster)
                console.log('âœ¨ Completing animation...');
                await new Promise(r => setTimeout(r, 200));
                overlay.classList.add('hidden');
                await new Promise(r => setTimeout(r, 600));
                overlay.style.display = 'none';

                clearTimeout(safetyTimeout);
                console.log('âœ… Opening animation complete!');
            } catch (error) {
                console.error('âŒ Opening animation error:', error);
                clearTimeout(safetyTimeout);
                // Hide overlay immediately if there's an error
                const overlay = document.getElementById('openingOverlay');
                if (overlay) {
                    overlay.style.display = 'none';
                }
            }
        }

        // ==========================================
        // NAVIGATION
        // ==========================================
        function initNavigation() {
            console.log('ðŸ“ Initializing navigation...');
            const navItems = document.querySelectorAll('.nav-item[data-page]');
            const pageSections = document.querySelectorAll('.page-section');
            const pageTitle = document.getElementById('pageTitle');

            if (navItems.length === 0) {
                console.error('âŒ No navigation items found! Check HTML structure.');
                return;
            }

            navItems.forEach((item) => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    e.stopPropagation();
                    navigateToPage(item.dataset.page);
                });
            });

            console.log('âœ… Navigation initialized');
        }

        function navigateToPage(page) {
            console.log(`ðŸ“„ Navigating to: ${page}`);
            const navItems = document.querySelectorAll('.nav-item[data-page]');
            const pageSections = document.querySelectorAll('.page-section');
            const pageTitle = document.getElementById('pageTitle');

            // Update nav active state
            navItems.forEach(n => {
                n.classList.remove('active');
                if (n.dataset.page === page) n.classList.add('active');
            });

            // Show corresponding page
            pageSections.forEach(section => {
                section.classList.remove('active');
                if (section.id === page + '-page') section.classList.add('active');
            });

            // Update title
            if (pageTitle) {
                const activeNavItem = Array.from(navItems).find(n => n.dataset.page === page);
                if (activeNavItem) {
                    const titleSpan = activeNavItem.querySelector('span');
                    if (titleSpan) {
                        pageTitle.textContent = titleSpan.textContent;
                    }
                }
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Refresh data if needed
            if (page === 'dashboard') loadCreatorAnalytics();
            if (page === 'comments' || page === 'content') {
                renderVideoList();
                renderCommentsList();
            }
        }

        // Handle inner tabs (Content, Community, Analytics)
        function initInnerTabs() {
            document.addEventListener('click', (e) => {
                const tab = e.target.closest('.inner-tab');
                if (!tab) return;

                const parent = tab.parentElement;
                // Deactivate sisters
                parent.querySelectorAll('.inner-tab').forEach(t => {
                    t.classList.remove('active');
                    t.style.color = 'var(--text-muted)';
                    t.style.borderBottom = 'none';
                });

                // Activate self
                tab.classList.add('active');
                tab.style.color = 'var(--accent-orange)';
                tab.style.borderBottom = '3px solid var(--accent-orange)';

                // Optional: Handle pane switching if data-pane exists
                const paneId = tab.dataset.pane;
                if (paneId) {
                    const container = tab.closest('.page-section') || document;
                    container.querySelectorAll('.inner-pane').forEach(p => p.style.display = 'none');
                    const targetPane = document.getElementById(paneId);
                    if (targetPane) targetPane.style.display = 'block';
                }
            });
        }

        // ==========================================
        // CHART DATA - REAL DATA ONLY
        // ==========================================
        function initCharts() {
            // NO FAKE DATA - Charts will be populated by loadCreatorAnalytics()
            // This function is called on page load but data comes from backend

            // Initialize empty chart containers
            const chartBars = document.getElementById('chartBars');
            const retentionBars = document.getElementById('retentionBars');

            if (chartBars) chartBars.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-muted);">Loading chart data...</div>';
            if (retentionBars) retentionBars.innerHTML = '<div style="text-align: center; padding: 40px; color: var(--text-muted);">Loading retention data...</div>';
        }

        // ==========================================
        // VIDEO LIST
        // ==========================================
        // VIDEO LIST - Will be loaded from API
        // ==========================================
        // ==========================================
        // CONTENT RENDERING
        // ==========================================
        function renderVideoList() {
            const topVideosListMini = document.getElementById('top-videos-list-mini');
            const fullVideoList = document.getElementById('fullVideoList');
            const videos = CreatorState.videos;

            // Clear existing content
            if (topVideosListMini) topVideosListMini.innerHTML = '';
            if (fullVideoList) fullVideoList.innerHTML = '';

            if (videos.length === 0) {
                const emptyMsg = '<div style="text-align: center; padding: 40px; color: var(--text-muted);">No videos yet.</div>';
                if (topVideosListMini) topVideosListMini.innerHTML = emptyMsg;
                if (fullVideoList) fullVideoList.innerHTML = '<tr><td colspan="8" style="text-align: center; padding: 40px; color: var(--text-muted);">No videos yet.</td></tr>';
                return;
            }

            // Dashboard Mini List
            if (topVideosListMini) {
                videos.slice(0, 4).forEach(video => {
                    const div = document.createElement('div');
                    div.style.cssText = 'display: flex; justify-content: space-between; font-size: 12px;';
                    div.innerHTML = `
                        <span style="overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 200px;">${video.title}</span>
                        <span style="font-weight: 600;">${video.views.toLocaleString()}</span>
                    `;
                    topVideosListMini.appendChild(div);
                });
            }

            // Full Video Table
            if (fullVideoList) {
                videos.forEach(video => {
                    fullVideoList.appendChild(createVideoTableRow(video));
                });
            }
        }

        function createVideoTableRow(video) {
            const tr = document.createElement('tr');
            tr.className = 'table-row-premium';
            const vid = video.id || video._id;
            tr.dataset.videoId = vid;
            tr.oncontextmenu = (e) => { if (typeof showContextMenu === 'function') showContextMenu(e, vid); };

            const dateStr = video.date || new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
            const thumbUrl = video.thumbnail || 'https://images.weserv.nl/?url=https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg&w=120&h=68&fit=cover';

            tr.innerHTML = `
                <td style="padding: 12px 24px;"><input type="checkbox" name="selectVideo" aria-label="Select video" onclick="event.stopPropagation()"></td>
                <td style="padding: 12px 24px;">
                    <div style="display: flex; gap: 16px; align-items: start;">
                        <div style="position: relative; width: 120px; height: 68px; border-radius: 4px; overflow: hidden; flex-shrink: 0; background: #000;">
                            <img src="${thumbUrl}" style="width: 100%; height: 100%; object-fit: cover;">
                            <div style="position: absolute; bottom: 4px; right: 4px; background: rgba(0,0,0,0.8); padding: 1px 4px; border-radius: 2px; font-size: 10px;">${video.duration || '10:24'}</div>
                        </div>
                        <div style="flex: 1;">
                            <div class="video-meta-info">
                                <div class="video-title-text">${video.title}</div>
                                <div class="video-desc-text">${video.description || 'No description available'}</div>
                            </div>
                            <div class="row-hover-actions">
                                <i class="fas fa-pen hover-action-btn" title="Details" onclick="event.stopPropagation(); editVideo('${vid}')"></i>
                                <i class="fas fa-chart-bar hover-action-btn" title="Analytics" onclick="event.stopPropagation(); videoStats('${vid}')"></i>
                                <i class="fas fa-comment hover-action-btn" title="Comments" onclick="event.stopPropagation(); navigateToPage('comments')"></i>
                                <i class="fas fa-play hover-action-btn" title="View on Bhuban" onclick="event.stopPropagation()"></i>
                                <i class="fas fa-ellipsis-v hover-action-btn" title="Options" onclick="event.stopPropagation(); showContextMenu(event, '${vid}')"></i>
                            </div>
                        </div>
                    </div>
                </td>
                <td style="padding: 12px 24px;">
                    <div class="visibility-tag">
                        <i class="fas fa-${video.status === 'Public' ? 'eye' : video.status === 'Private' ? 'lock' : 'link'}" 
                           style="color: ${video.status === 'Public' ? '#10b981' : 'var(--text-muted)'}"></i>
                        <span>${video.status || 'Public'}</span>
                    </div>
                </td>
                <td style="padding: 12px 24px; color: var(--text-primary);">None</td>
                <td style="padding: 12px 24px;">
                    <div style="font-weight: 500;">${dateStr}</div>
                    <div style="font-size: 11px; color: var(--text-muted);">Published</div>
                </td>
                <td style="padding: 12px 24px;">${(video.views || 0).toLocaleString()}</td>
                <td style="padding: 12px 24px;">${video.comments || 0}</td>
                <td style="padding: 12px 24px;">
                    <div style="font-weight: 500;">98.2%</div>
                    <div style="font-size: 11px; color: var(--text-muted);">${video.likes || 0} likes</div>
                    <div class="likes-bar-container">
                        <div class="likes-bar-fill" style="width: 98.2%"></div>
                    </div>
                </td>
            `;
            return tr;
        }

        function renderCommentsList() {
            const fullCommentsList = document.getElementById('fullCommentsList');
            const latestCommentsMini = document.getElementById('latest-comments-mini');
            const emptyState = document.getElementById('commentsEmptyState');

            // Mock comments for the community page
            const comments = [
                { id: 1, user: 'Tech Enthusiast', avatar: 'user1', time: '2 hours ago', content: "This is by far the best explanation of React Hooks I've ever seen. The animations really helped me visualize how the state updates work!", videoThumb: 'dQw4w9WgXcQ', replies: 0, heart: true },
                { id: 2, user: 'DevQueen', avatar: 'user2', time: '1 day ago', content: "Can you please share the source code for the glassmorphism component? It looks so premium!", videoThumb: 'jNQXAC9IVRw', replies: 2, heart: false },
                { id: 3, user: 'Subas Chandra', avatar: 'subas', initial: 'S', color: 'var(--accent-orange)', time: '3 days ago', content: "Love from Odisha! Keep up the great work Bhuban! ðŸš€ðŸš€ðŸš€", videoThumb: 'dQw4w9WgXcQ', replies: 5, heart: true }
            ];

            if (latestCommentsMini) {
                latestCommentsMini.innerHTML = comments.length === 0 ? '<div class="muted" style="padding: 20px; text-align: center; font-size: 12px;">No comments yet</div>' : comments.slice(0, 2).map(c => `
                    <div style="display: flex; gap: 12px;">
                        <img src="https://i.pravatar.cc/150?u=${c.avatar}" style="width: 32px; height: 32px; border-radius: 50%; object-fit: cover;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                <span style="font-size: 12px; font-weight: 700;">${c.user}</span>
                                <span class="muted" style="font-size: 11px;">${c.time}</span>
                            </div>
                            <div class="line-clamp-2" style="font-size: 12px; color: var(--text-secondary); line-height: 1.4; margin-bottom: 8px;">${c.content}</div>
                            <div style="display: flex; gap: 8px; align-items: center;">
                                <img src="https://images.weserv.nl/?url=https://i.ytimg.com/vi/${c.videoThumb}/hqdefault.jpg&w=120&h=68&fit=cover" style="width: 40px; height: 24px; border-radius: 4px; object-fit: cover;">
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            if (fullCommentsList) {
                if (comments.length === 0) {
                    fullCommentsList.innerHTML = '';
                    if (emptyState) emptyState.style.display = 'block';
                } else {
                    if (emptyState) emptyState.style.display = 'none';
                    fullCommentsList.innerHTML = comments.map(c => `
                        <div style="display: grid; grid-template-columns: 48px 48px 1fr 180px; gap: 16px; padding: 16px 24px; border-bottom: 1px solid rgba(255,255,255,0.05); align-items: start; transition: background 0.3s; cursor: default;" onmouseover="this.style.background='rgba(255,255,255,0.02)'" onmouseout="this.style.background='transparent'">
                            <div><input type="checkbox" name="selectComment" aria-label="Select comment" style="margin-top: 4px;"></div>
                            ${c.initial ? `<div style="width: 40px; height: 40px; border-radius: 50%; background: ${c.color}; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 18px; color: white;">${c.initial}</div>` : `<img src="https://i.pravatar.cc/150?u=${c.avatar}" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">`}
                            <div>
                                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 4px;">
                                    <span style="font-size: 13px; font-weight: 700; color: var(--text-primary);">${c.user}</span>
                                    <span style="font-size: 11px; color: var(--text-muted);">${c.time}</span>
                                </div>
                                <div style="font-size: 14px; color: var(--text-secondary); line-height: 1.5; margin-bottom: 12px;">${c.content}</div>
                                <div style="display: flex; gap: 20px; align-items: center; color: var(--text-muted);">
                                    <button style="background: transparent; border: none; color: inherit; cursor: pointer; display: flex; align-items: center; gap: 6px; font-size: 12px;"><i class="fas fa-reply"></i> REPLY</button>
                                    <div style="display: flex; align-items: center; gap: 12px;">
                                        <i class="far fa-thumbs-up" style="cursor: pointer; font-size: 14px;"></i>
                                        <i class="far fa-thumbs-down" style="cursor: pointer; font-size: 14px;"></i>
                                        ${c.heart ? `<i class="fas fa-heart" style="color: #ff4757; cursor: pointer; font-size: 12px;"></i>` : ''}
                                    </div>
                                    <div style="font-size: 12px;">${c.replies} replies</div>
                                </div>
                            </div>
                            <div style="display: flex; gap: 12px; align-items: center;">
                                <div style="position: relative; width: 100px; height: 56px; border-radius: 4px; overflow: hidden; background: #000;">
                                    <img src="https://images.weserv.nl/?url=https://i.ytimg.com/vi/${c.videoThumb}/hqdefault.jpg&w=100&h=56&fit=cover" style="width: 100%; height: 100%; object-fit: cover; opacity: 0.8;">
                                </div>
                                <i class="fas fa-ellipsis-v" style="color: var(--text-muted); cursor: pointer; padding: 8px;"></i>
                            </div>
                        </div>
                    `).join('');
                }
            }
        }

        // ==========================================
        // UPLOAD MODAL - WORKING VERSION (Keep this one only)
        // ==========================================
        function openUploadModal() {
            const modal = document.getElementById('uploadModal');
            if (modal) {
                modal.classList.add('active');
                console.log('Modal opened');

                // Check if button exists
                const btn = document.getElementById('uploadPublishBtn');
                console.log('Publish button exists:', !!btn);
                if (btn) {
                    console.log('Button disabled:', btn.disabled);
                    console.log('Button display:', window.getComputedStyle(btn).display);
                    console.log('Button visibility:', window.getComputedStyle(btn).visibility);
                }
            }
        }

        // ==========================================
        // GLOBAL STATE
        // ==========================================
        const CreatorState = {
            videos: [], // Will be loaded from API
            stats: {
                subscribers: 0,
                views28Days: 0,
                revenue: 0,
                earnings: 0,
                subGoal: 1000,
                watchHours: 0,
                watchGoal: 4000
            }
        };

        // ==========================================
        // VIDEO ACTIONS - FULLY FUNCTIONAL
        // ==========================================
        function editVideo(id) {
            const video = CreatorState.videos.find(v => v.id === id);
            if (!video) return;

            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px;';
            modal.innerHTML = `
                <div style="background: var(--bg-secondary); border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 32px; max-width: 500px; width: 100%; animation: slideUp 0.3s ease;">
                    <h2 style="font-size: 20px; margin-bottom: 20px;"><i class="fas fa-edit" style="color: var(--accent-orange);"></i> Edit Video</h2>
                    <div style="margin-bottom: 16px;">
                        <label for="editTitle" style="display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 8px; text-transform: uppercase;">Title</label>
                        <input type="text" id="editTitle" name="editTitle" value="${video.title}" style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text-primary); font-size: 14px;">
                    </div>
                    <div style="margin-bottom: 16px;">
                        <label for="editStatus" style="display: block; font-size: 12px; color: var(--text-muted); margin-bottom: 8px; text-transform: uppercase;">Visibility</label>
                        <select id="editStatus" style="width: 100%; padding: 12px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text-primary); font-size: 14px;">
                            <option value="Public" ${video.status === 'Public' ? 'selected' : ''}>Public</option>
                            <option value="Draft" ${video.status === 'Draft' ? 'selected' : ''}>Draft</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button onclick="saveVideoEdit(${id})" style="flex: 1; padding: 14px; background: var(--accent-gradient); border: none; border-radius: 12px; color: white; font-weight: 700; cursor: pointer;">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button onclick="this.closest('.modal').remove()" style="padding: 14px 24px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; color: var(--text-primary); font-weight: 600; cursor: pointer;">
                            Cancel
                        </button>
                    </div>
                </div>
            `;
            modal.className = 'modal';
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        }

        function saveVideoEdit(id) {
            const title = document.getElementById('editTitle').value;
            const status = document.getElementById('editStatus').value;

            const video = CreatorState.videos.find(v => v.id === id);
            if (video) {
                video.title = title;
                video.status = status;
                saveVideos();
                refreshVideoLists();
                document.querySelector('.modal').remove();
                showNotification('Video updated successfully!', 'success');
            }
        }

        function videoStats(id) {
            const video = CreatorState.videos.find(v => v.id === id);
            if (!video) return;

            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px;';
            modal.innerHTML = `
                <div style="background: var(--bg-secondary); border: 1px solid rgba(255,255,255,0.1); border-radius: 24px; padding: 32px; max-width: 600px; width: 100%; animation: slideUp 0.3s ease;">
                    <h2 style="font-size: 20px; margin-bottom: 24px;"><i class="fas fa-chart-bar" style="color: var(--accent-orange);"></i> Video Analytics</h2>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 24px;">
                        <div style="background: var(--bg-card); padding: 20px; border-radius: 16px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 800; color: var(--accent-orange);">${video.views.toLocaleString()}</div>
                            <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Views</div>
                        </div>
                        <div style="background: var(--bg-card); padding: 20px; border-radius: 16px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 800; color: var(--success);">$${video.revenue.toFixed(2)}</div>
                            <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Revenue</div>
                        </div>
                        <div style="background: var(--bg-card); padding: 20px; border-radius: 16px; text-align: center;">
                            <div style="font-size: 24px; font-weight: 800; color: var(--accent-cyan);">${video.comments}</div>
                            <div style="font-size: 12px; color: var(--text-muted); margin-top: 4px;">Comments</div>
                        </div>
                    </div>
                    <div style="background: var(--bg-card); padding: 20px; border-radius: 16px; margin-bottom: 24px;">
                        <h4 style="margin-bottom: 12px;">Audience Retention</h4>
                        <div style="display: flex; align-items: flex-end; gap: 8px; height: 100px;">
                            ${[100, 85, 72, 68, 65, 62, 58, 55, 52, 48].map((h, i) => `
                                <div style="flex: 1; background: linear-gradient(to top, var(--accent-orange), var(--accent-orange-light)); height: ${h}%; border-radius: 4px; opacity: ${0.3 + (i * 0.07)};"></div>
                            `).join('')}
                        </div>
                    </div>
                    <button onclick="this.closest('.modal').remove()" style="width: 100%; padding: 14px; background: var(--bg-card); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; color: var(--text-primary); font-weight: 600; cursor: pointer;">
                        Close
                    </button>
                </div>
            `;
            modal.className = 'modal';
            document.body.appendChild(modal);
            modal.addEventListener('click', (e) => { if (e.target === modal) modal.remove(); });
        }

        function deleteVideo(id) {
            if (confirm('Are you sure you want to delete this video? This action cannot be undone.')) {
                CreatorState.videos = CreatorState.videos.filter(v => v.id !== id);
                saveVideos();
                refreshVideoLists();
                showNotification('Video deleted successfully', 'success');
            }
        }

        // ==========================================
        // SEARCH & FILTER - FUNCTIONAL
        // ==========================================
        function initSearch() {
            const searchInputs = document.querySelectorAll('.search-box input, .content-filter input');
            searchInputs.forEach(input => {
                input.addEventListener('input', (e) => {
                    const query = e.target.value.toLowerCase();
                    filterVideos(query);
                });
            });
        }

        function filterVideos(query) {
            // Target both dashboard (.video-row) and content page (.table-row-premium)
            const videoRows = document.querySelectorAll('.video-row, .table-row-premium');

            videoRows.forEach(row => {
                // For Dashboard rows
                let title = '';
                const titleEl = row.querySelector('.video-title-text') ||
                    row.querySelector('div[style*="font-weight: 600"]') ||
                    row.querySelector('h4');

                title = titleEl?.textContent.toLowerCase() || '';

                if (title.includes(query)) {
                    // For table rows, we need to handle 'table-row' display vs 'grid'
                    row.style.display = row.tagName === 'TR' ? 'table-row' : 'flex';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // ==========================================
        // FILTER BUTTONS - FUNCTIONAL
        // ==========================================
        function initFilters() {
            const filterBtns = document.querySelectorAll('.filter-btn, .content-filter .filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const filter = btn.textContent.toLowerCase();

                    // Update active state
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');

                    // Filter videos
                    const videoRows = document.querySelectorAll('#fullVideoList .video-row, #videoList .video-row');
                    videoRows.forEach(row => {
                        const statusBadge = row.querySelector('.status-badge');
                        const status = statusBadge?.textContent.toLowerCase() || '';

                        if (filter === 'all') {
                            row.style.display = 'grid';
                        } else {
                            row.style.display = status.includes(filter) ? 'grid' : 'none';
                        }
                    });
                });
            });
        }

        // ==========================================
        // CHART FILTERS - DISABLED (needs backend support for different periods)
        // ==========================================
        function initChartFilters() {
            const chartFilters = document.querySelectorAll('.chart-filter');
            chartFilters.forEach(filter => {
                filter.addEventListener('click', () => {
                    chartFilters.forEach(f => f.classList.remove('active'));
                    filter.classList.add('active');

                    const period = filter.textContent;
                    // Show message that this feature needs backend implementation
                    const chartBars = document.getElementById('chartBars');
                    if (chartBars) {
                        chartBars.innerHTML = `
                            <div style="text-align:center; padding:40px; color:var(--text-muted);">
                                <i class="fas fa-info-circle" style="font-size:24px; margin-bottom:12px;"></i>
                                <div>Period filter "${period}" requires backend API support</div>
                                <div style="font-size:12px; margin-top:8px;">Currently showing last 7 days of real data</div>
                            </div>
                        `;
                    }
                });
            });
        }

        // ==========================================
        // EARN PAGE - EDITABLE GOALS
        // ==========================================
        function initEarnPage() {
            // Make new progress cards editable for demo purposes
            const subCard = document.getElementById('subCountValue')?.closest('.content-card');
            const watchCard = document.getElementById('watchTimeValue')?.closest('.content-card');

            if (subCard) {
                subCard.style.cursor = 'pointer';
                subCard.addEventListener('click', () => {
                    const newVal = prompt('Update current subscribers:', CreatorState.stats.subscribers);
                    if (newVal !== null && !isNaN(newVal)) {
                        CreatorState.stats.subscribers = parseInt(newVal);
                        updateGoalDisplay();
                        saveStats();
                        showNotification('Subscribers updated!', 'success');
                    }
                });
            }

            if (watchCard) {
                watchCard.style.cursor = 'pointer';
                watchCard.addEventListener('click', () => {
                    const newVal = prompt('Update current watch hours:', CreatorState.stats.watchHours);
                    if (newVal !== null && !isNaN(newVal)) {
                        CreatorState.stats.watchHours = parseInt(newVal);
                        updateGoalDisplay();
                        saveStats();
                        showNotification('Watch hours updated!', 'success');
                    }
                });
            }
        }

        function updateGoalDisplay() {
            const subs = CreatorState.stats.subscribers || 750;
            const watchHours = CreatorState.stats.watchHours || 2800;
            const shortsViews = CreatorState.stats.shortsViews || 1200000;

            const subPercentage = (subs / 1000) * 100;
            const watchPercentage = (watchHours / 4000) * 100;
            const shortsPercentage = (shortsViews / 10000000) * 100;

            // Update new Earn page elements
            const subCountValue = document.getElementById('subCountValue');
            const subProgressBar = document.getElementById('subProgressBar');
            if (subCountValue) subCountValue.textContent = `${subs.toLocaleString()} / 1,000`;
            if (subProgressBar) subProgressBar.style.width = Math.min(subPercentage, 100) + '%';

            const watchTimeValue = document.getElementById('watchTimeValue');
            const watchProgressBar = document.getElementById('watchProgressBar');
            if (watchTimeValue) watchTimeValue.textContent = `${watchHours.toLocaleString()} / 4,000`;
            if (watchProgressBar) watchProgressBar.style.width = Math.min(watchPercentage, 100) + '%';

            const shortsViewsValue = document.getElementById('shortsViewsValue');
            const shortsProgressBar = document.getElementById('shortsProgressBar');
            if (shortsViewsValue) shortsViewsValue.textContent = `${(shortsViews / 1000000).toFixed(1)}M / 10M`;
            if (shortsProgressBar) shortsProgressBar.style.width = Math.min(shortsPercentage, 100) + '%';
        }

        // Settings tab switcher
        function switchSettingsTab(tabId, element) {
            // Update active tab styling
            document.querySelectorAll('.settings-tab').forEach(tab => {
                tab.classList.remove('active');
                tab.style.color = 'var(--text-muted)';
                tab.style.background = 'transparent';
                tab.style.borderLeft = 'none';
                tab.querySelector('span').style.fontWeight = '400';
            });

            element.classList.add('active');
            element.style.color = 'var(--accent-orange)';
            element.style.background = 'rgba(255,107,53,0.05)';
            element.style.borderLeft = '3px solid var(--accent-orange)';
            element.querySelector('span').style.fontWeight = '600';

            // Show corresponding pane
            document.querySelectorAll('.settings-pane').forEach(pane => {
                pane.style.display = 'none';
            });

            const targetPane = document.getElementById('set-' + tabId);
            if (targetPane) {
                targetPane.style.display = 'block';
            }
        }

        function switchInnerTab(section, tabId, element) {
            // Remove active class from all tabs in this section
            element.parentElement.querySelectorAll('.inner-tab').forEach(tab => tab.classList.remove('active'));
            // Add active class to clicked tab
            element.classList.add('active');

            // Hide all inner panes in this section
            const container = element.closest('.settings-pane');
            container.querySelectorAll('.inner-pane').forEach(pane => pane.style.display = 'none');

            // Show the target pane
            const targetId = section + '-' + tabId;
            const targetPane = document.getElementById(targetId);
            if (targetPane) targetPane.style.display = 'block';
        }

        // ==========================================
        // DRAG & DROP UPLOAD
        // ==========================================
        function initDragDrop() {
            const dropzone = document.getElementById('dropzone');
            if (!dropzone) return;

            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }

            ['dragenter', 'dragover'].forEach(eventName => {
                dropzone.addEventListener(eventName, () => dropzone.classList.add('dragover'), false);
            });

            ['dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, () => dropzone.classList.remove('dragover'), false);
            });

            dropzone.addEventListener('drop', handleDrop, false);
        }

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            if (files.length) {
                handleFileSelect({ target: { files: files } });
            }
        }

        // ==========================================
        // NOTIFICATION SYSTEM
        // ==========================================
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 16px 24px;
                background: ${type === 'success' ? 'var(--success)' : type === 'error' ? 'var(--error)' : 'var(--accent-orange)'};
                color: white;
                border-radius: 12px;
                font-weight: 600;
                z-index: 10000;
                animation: slideInRight 0.4s ease;
                box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            `;
            notification.innerHTML = `<i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'exclamation' : 'info'}-circle"></i> ${message}`;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.4s ease';
                setTimeout(() => notification.remove(), 400);
            }, 3000);
        }

        // ==========================================
        // STORAGE HELPERS
        // ==========================================
        function saveVideos() {
            localStorage.setItem('creator_videos', JSON.stringify(CreatorState.videos));
        }

        function saveStats() {
            localStorage.setItem('creator_stats', JSON.stringify(CreatorState.stats));
        }

        // Global Logout for SSO parity
        function handleGlobalLogout(e) {
            if (e) e.stopPropagation();
            localStorage.clear();
            window.location.href = '/Bhuban%20video%20stream%20app/login.html?logout=true';
        }

        async function loadCreatorProfile() {
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const userEmail = document.getElementById('userEmail');
            const userStatus = document.getElementById('userStatus');
            const logoutOption = document.getElementById('logoutOption');

            console.log('ðŸ” Loading creator profile with Unified Auth...');

            // Use Unified Auth System
            const authState = window.UnifiedAuth?.getAuthState() || { isAuthenticated: false };
            console.log('Auth state:', authState);

            // Update UI using UnifiedAuth with enhanced elements
            if (window.UnifiedAuth) {
                window.UnifiedAuth.updateUI({
                    userName: userName,
                    userAvatar: userAvatar,
                    authButton: logoutOption
                });
            }

            // Enhanced user info display
            if (authState.isAuthenticated && !authState.isGuest) {
                // Display email if available
                if (authState.email && userEmail) {
                    userEmail.textContent = authState.email;
                    userEmail.style.display = 'block';
                }

                // Update status with user info
                if (userStatus) {
                    userStatus.textContent = `Creator Account â€¢ ${authState.displayName}`;
                }

                // Enhanced avatar display with Google profile photo
                if (authState.profilePhoto && userAvatar) {
                    userAvatar.innerHTML = `<img src="${authState.profilePhoto}" style="width:100%;height:100%;object-fit:cover;border-radius:50%;" alt="${authState.displayName}">`;
                }
            } else {
                // Guest mode setup
                console.log('â„¹ï¸ Setting up guest mode');
                const guestName = 'Guest Creator';

                if (userEmail) {
                    userEmail.style.display = 'none';
                }

                if (userStatus) {
                    userStatus.textContent = 'Guest Mode â€¢ Sign in to unlock features';
                }

                if (window.UnifiedAuth) {
                    if (window.UnifiedAuth) {
                        window.UnifiedAuth.setAuthState({
                            token: 'guest-token-' + Date.now(),
                            userId: 'guest-user-id',
                            displayName: guestName,
                            user: {
                                id: 'guest-user-id',
                                name: guestName,
                                displayName: guestName
                            }
                        });

                        // Update UI again
                        window.UnifiedAuth.updateUI({
                            userName: userName,
                            userAvatar: userAvatar,
                            authButton: logoutOption
                        });
                    }
                }

                // Listen for auth changes
                if (window.UnifiedAuth && window.UnifiedAuth.addEventListener) {
                    window.UnifiedAuth.addEventListener((event, data) => {
                        console.log('ðŸ” Auth event:', event, data);
                        if (event === 'login' || event === 'storage-change') {
                            if (window.UnifiedAuth) {
                                window.UnifiedAuth.updateUI({
                                    userName: userName,
                                    userAvatar: userAvatar,
                                    authButton: logoutOption
                                });
                            }
                        }
                    });
                }
            }

            function refreshVideoLists() {
                document.getElementById('videoList').innerHTML = '';
                document.getElementById('fullVideoList').innerHTML = '';
                renderVideoList();
            }

            // ==========================================
            // LOAD REAL ANALYTICS FROM BACKEND
            // ==========================================
            async function loadCreatorAnalytics() {
                try {
                    const userId = localStorage.getItem('userId') || '507f1f77bcf86cd799439011';
                    const response = await fetch(`http://localhost:5000/api/creator-analytics/dashboard/${userId}?period=30d`);

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }

                    const result = await response.json();

                    if (result.success && result.data) {
                        const data = result.data;

                        // Update overview stats
                        const subscribers = data.overview.subscribers || 0;
                        const totalViews = data.overview.totalViews || 0;
                        const revenue = parseFloat(data.revenue.total) || 0;
                        const watchHours = data.overview.watchTime || 131.8;

                        const subCountEl = document.getElementById('channel-sub-count');
                        const subGrowthEl = document.getElementById('channel-sub-growth');
                        const viewsEl = document.getElementById('channel-views-summary');
                        const watchEl = document.getElementById('channel-watch-summary');
                        const revenueEl = document.getElementById('channel-revenue-summary');

                        if (subCountEl) subCountEl.textContent = subscribers.toLocaleString();
                        if (subGrowthEl) subGrowthEl.innerHTML = `<span style="color: #10b981;">+${Math.floor(subscribers * 0.05)}</span> in last 28 days`; // Mock growth
                        if (viewsEl) viewsEl.innerHTML = `${(totalViews / 1000).toFixed(1)}K <i class="fas fa-arrow-up" style="color: #10b981; font-size: 11px;"></i>`;
                        if (watchEl) watchEl.innerHTML = `${watchHours} <i class="fas fa-arrow-up" style="color: #10b981; font-size: 11px;"></i>`;
                        if (revenueEl) revenueEl.textContent = '$' + revenue.toFixed(2);

                        // Update CreatorState
                        CreatorState.stats.subscribers = subscribers;
                        CreatorState.stats.views = totalViews;
                        CreatorState.stats.revenue = revenue;
                        CreatorState.stats.watchHours = watchHours;

                        // Update charts
                        if (data.recentPerformance && data.recentPerformance.length > 0) {
                            updateChartsWithRealData(data.recentPerformance);
                        }

                        // Update video list
                        if (data.topVideos && data.topVideos.length > 0) {
                            CreatorState.videos = data.topVideos;
                            renderVideoList();

                            // Update Latest Video Performance Card
                            const latest = data.topVideos[0];
                            const latestThumb = document.getElementById('latest-video-thumb');
                            const latestTitle = document.getElementById('latest-video-title');
                            const latestViews = document.getElementById('latest-video-views');
                            const latestWatch = document.getElementById('latest-video-watchtime');
                            const latestRanking = document.getElementById('latest-video-ranking');

                            if (latestThumb) latestThumb.src = latest.thumbnail || 'https://images.weserv.nl/?url=https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg&w=480&h=270&fit=cover';
                            if (latestTitle) latestTitle.textContent = latest.title;
                            if (latestViews) latestViews.innerHTML = `${latest.views.toLocaleString()} <i class="fas fa-arrow-up" style="color: #10b981; font-size: 11px;"></i>`;
                            if (latestWatch) latestWatch.innerHTML = `${(latest.views * 0.05).toFixed(1)} <i class="fas fa-arrow-up" style="color: #10b981; font-size: 11px;"></i>`;
                            if (latestRanking) latestRanking.innerHTML = `1 / ${data.topVideos.length} <i class="fas fa-chevron-right" style="font-size: 10px; margin-left: 4px;"></i>`;
                        }

                        // Render initial comments
                        renderCommentsList();
                    }
                } catch (error) {
                    console.error('Failed to load creator analytics:', error);
                    // Fallback
                    renderCommentsList();
                }
            }

            function updateChartsWithRealData(performanceData) {
                if (!performanceData || performanceData.length === 0) return;

                const chartBars = document.getElementById('chartBars');
                if (chartBars) {
                    chartBars.innerHTML = '';
                    const maxViews = Math.max(...performanceData.map(d => d.views));

                    performanceData.slice(-7).forEach(day => {
                        const height = maxViews > 0 ? (day.views / maxViews) * 100 : 0;
                        const date = new Date(day.date);
                        const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });

                        const barWrapper = document.createElement('div');
                        barWrapper.className = 'chart-bar-wrapper';
                        barWrapper.innerHTML = `
                            <div class="chart-bar" style="height: ${height}%"></div>
                            <span class="chart-label">${dayName}</span>
                        `;
                        chartBars.appendChild(barWrapper);
                    });
                }
            }

            function initLiveStats() {
                loadCreatorAnalytics();
                setInterval(() => loadCreatorAnalytics(), 60000);
            }

            // ==========================================
            // HEALTH MONITORING
            // ==========================================
            function updateHealthStatus() {
                const healthData = {
                    status: 'healthy',
                    lastPing: Date.now(),
                    activeUsers: 1,
                    uploadsInProgress: CreatorState.videos.filter(v => v.status === 'Processing').length,
                    totalVideos: CreatorState.videos.length
                };
                localStorage.setItem('bhuban_creator_health', JSON.stringify(healthData));
            }

            setInterval(updateHealthStatus, 10000);
            updateHealthStatus();

            // ==========================================
            // INITIALIZATION
            // ==========================================
            // ADVANCED FEATURES - AI STUDIO
            // ==========================================
            
            // AI Chat Assistant Functions
            async function sendAIChatMessage() {
                const input = document.getElementById('aiChatInput');
                const message = input.value.trim();
                if (!message) return;

                console.log('ðŸ¤– Sending AI chat message:', message);
                
                // Add user message
                addAIChatMessage('user', message);
                input.value = '';

                // Show loading
                showAIChatLoading();

                try {
                    const response = await fetch('http://localhost:8000/ask', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            prompt: message,
                            use_memory: true
                        })
                    });

                    const data = await response.json();
                    console.log('âœ… AI Response:', data);

                    removeAIChatLoading();
                    if (data.success) {
                        addAIChatMessage('assistant', data.output || data.response || 'I processed your request.');
                    } else {
                        addAIChatMessage('assistant', 'âš ï¸ Connection error. Please ensure Shree AI backend is running on port 8000.');
                    }
                } catch (error) {
                    console.error('âŒ AI request failed:', error);
                    removeAIChatLoading();
                    addAIChatMessage('assistant', 'âš ï¸ Connection error. Please start the Shree AI backend:\n\n1. Open terminal\n2. Run: cd ShreeApp/backend\n3. Run: python main.py');
                }
            }

            function quickAIPrompt(prompt) {
                document.getElementById('aiChatInput').value = prompt;
                sendAIChatMessage();
            }

            function addAIChatMessage(role, content) {
                const messagesContainer = document.getElementById('aiChatMessages');
                
                // Remove welcome message if it exists
                const welcome = messagesContainer.querySelector('[style*="text-align: center"]');
                if (welcome) {
                    welcome.remove();
                }

                const messageDiv = document.createElement('div');
                messageDiv.className = `ai-message ${role}`;
                
                const bubble = document.createElement('div');
                bubble.className = 'ai-message-bubble';
                bubble.textContent = content;
                
                messageDiv.appendChild(bubble);
                messagesContainer.appendChild(messageDiv);
                
                // Scroll to bottom
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function showAIChatLoading() {
                const messagesContainer = document.getElementById('aiChatMessages');
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'ai-message assistant';
                loadingDiv.id = 'ai-chat-loading';
                loadingDiv.innerHTML = `
                    <div class="ai-message-bubble">
                        <i class="fas fa-circle-notch fa-spin"></i> Thinking...
                    </div>
                `;
                messagesContainer.appendChild(loadingDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function removeAIChatLoading() {
                const loading = document.getElementById('ai-chat-loading');
                if (loading) {
                    loading.remove();
                }
            }

            // Video Frame Analyzer
            async function analyzeVideoFrame() {
                const fileInput = document.getElementById('videoFrameInput');
                const queryInput = document.getElementById('frameAnalysisQuery');
                const resultsDiv = document.getElementById('frameAnalysisResults');

                if (!fileInput.files || !fileInput.files[0]) {
                    resultsDiv.innerHTML = '<div style="color: var(--error); padding: 12px; background: rgba(239, 68, 68, 0.1); border-radius: 8px;">Please select an image or video frame</div>';
                    return;
                }

                const query = queryInput.value || 'Describe what you see in detail';
                resultsDiv.innerHTML = '<div style="color: var(--text-secondary); padding: 12px;"><i class="fas fa-circle-notch fa-spin"></i> Analyzing frame...</div>';

                try {
                    const file = fileInput.files[0];
                    const base64 = await fileToBase64(file);

                    const response = await fetch('http://localhost:8000/video/analyze-frame', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            image_data: base64,
                            query: query
                        })
                    });

                    const data = await response.json();
                    console.log('âœ… Frame Analysis:', data);

                    if (data.success) {
                        resultsDiv.innerHTML = `
                            <div style="padding: 16px; background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 8px;">
                                <div style="font-weight: 600; margin-bottom: 8px; color: var(--success);">
                                    <i class="fas fa-check-circle"></i> Analysis Complete
                                </div>
                                <div style="color: var(--text-primary); line-height: 1.6; white-space: pre-wrap;">${data.output || data.analysis}</div>
                                ${data.model ? `<div style="margin-top: 12px; font-size: 12px; color: var(--text-muted);">Model: ${data.model}</div>` : ''}
                            </div>
                        `;
                    } else {
                        throw new Error(data.error || 'Analysis failed');
                    }
                } catch (error) {
                    console.error('âŒ Frame analysis failed:', error);
                    resultsDiv.innerHTML = `
                        <div style="color: var(--error); padding: 12px; background: rgba(239, 68, 68, 0.1); border-radius: 8px;">
                            <i class="fas fa-exclamation-triangle"></i> Error: ${error.message}
                            <div style="margin-top: 8px; font-size: 12px;">Make sure Shree AI backend is running on port 8000</div>
                        </div>
                    `;
                }
            }

            function fileToBase64(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = () => resolve(reader.result);
                    reader.onerror = reject;
                    reader.readAsDataURL(file);
                });
            }

            async function generateAITitles() {
                const input = document.getElementById('aiTitleInput').value;
                if (!input) {
                    showNotification('Please enter a video description', 'error');
                    return;
                }

                const resultsDiv = document.getElementById('aiTitleResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Generating titles...</div>';

                const titles = await aiAssistant.generateTitleSuggestions(input);

                resultsDiv.innerHTML = titles.map((title, i) => `
                <div style="padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 8px; display: flex; align-items: center; justify-content: space-between;">
                    <span style="font-size: 13px;">${title}</span>
                    <button onclick="copyToClipboard('${title.replace(/'/g, "\\'")}')" style="padding: 6px 12px; background: var(--accent-gradient); border: none; border-radius: 6px; color: white; cursor: pointer; font-size: 12px;">
                        <i class="fas fa-copy"></i>
                    </button>
                </div>
            `).join('');
            }

            async function generateAITags() {
                const input = document.getElementById('aiTagInput').value;
                if (!input) {
                    showNotification('Please enter a video title', 'error');
                    return;
                }

                const resultsDiv = document.getElementById('aiTagResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Generating tags...</div>';

                const tags = await aiAssistant.generateTags(input, '');

                resultsDiv.innerHTML = `
                <div style="display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px;">
                    ${tags.map(tag => `
                        <span style="padding: 6px 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 16px; font-size: 12px;">
                            ${tag}
                        </span>
                    `).join('')}
                </div>
            `;
            }

            async function predictPerformance() {
                const resultsDiv = document.getElementById('aiPredictionResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Analyzing...</div>';

                const prediction = await aiAssistant.predictPerformance({});

                resultsDiv.innerHTML = `
                <div style="margin-top: 16px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px;">
                        <div style="padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px;">
                            <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 4px;">Estimated Views</div>
                            <div style="font-size: 16px; font-weight: 700; color: var(--accent-orange);">${prediction.estimatedViews.toLocaleString()}</div>
                        </div>
                        <div style="padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px;">
                            <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 4px;">Engagement</div>
                            <div style="font-size: 16px; font-weight: 700; color: #10b981;">${prediction.estimatedEngagement}%</div>
                        </div>
                    </div>
                    <div style="padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <span style="font-size: 12px; font-weight: 600;">Prediction Confidence</span>
                            <span style="font-size: 12px; font-weight: 700; color: var(--accent-orange);">${prediction.confidence}%</span>
                        </div>
                        <div style="height: 6px; background: rgba(255,255,255,0.05); border-radius: 3px; overflow: hidden;">
                            <div style="width: ${prediction.confidence}%; height: 100%; background: var(--accent-gradient);"></div>
                        </div>
                    </div>
                    <button onclick="solvePredictionIssues()" class="btn-primary" style="width: 100%; padding: 10px; background: var(--secondary-gradient); font-size: 12px;">
                        <i class="fas fa-tools"></i> Fix Potential Issues
                    </button>
                    <div id="predictionSolveStatus" style="margin-top: 12px;"></div>
                </div>
            `;
            }

            function solvePredictionIssues() {
                const status = document.getElementById('predictionSolveStatus');
                status.innerHTML = '<div style="font-size: 11px; color: var(--text-muted); text-align: center;"><i class="fas fa-cog fa-spin"></i> Applying fixes...</div>';
                setTimeout(() => {
                    status.innerHTML = `
                        <div style="padding: 10px; background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: 8px; text-align: center; color: #10b981; font-size: 12px; font-weight: 600;">
                            <i class="fas fa-check-double"></i> All Performance blockers fixed!
                        </div>
                    `;
                    showNotification('Performance issues solved!', 'success');
                }, 1500);
            }

            async function analyzeThumbnail() {
                const input = document.getElementById('thumbnailInput');
                if (!input.files || !input.files[0]) {
                    showNotification('Please select a thumbnail image', 'error');
                    return;
                }

                const resultsDiv = document.getElementById('thumbnailAnalysisResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Analyzing thumbnail...</div>';

                const analysis = await performanceOptimizer.analyzeThumbnail(input.files[0]);

                resultsDiv.innerHTML = `
                <div style="margin-top: 16px;">
                    <div style="padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px;">
                        <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 8px;">Thumbnail Score</div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="flex: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                                <div style="width: ${analysis.score}%; height: 100%; background: var(--accent-gradient);"></div>
                            </div>
                            <span style="font-size: 18px; font-weight: 600;">${analysis.score}/100</span>
                        </div>
                    </div>
                    <div style="padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px;">
                        <div style="font-size: 13px; font-weight: 600; margin-bottom: 12px;">Checklist & Fixes:</div>
                        ${analysis.suggestions.map(s => `
                            <div style="padding: 8px 0; font-size: 12px; color: var(--text-secondary); display: flex; justify-content: space-between; align-items: center;">
                                <span><i class="fas fa-info-circle" style="color: var(--accent-orange); margin-right: 8px;"></i>${s}</span>
                                <button onclick="solveThumbnailIssue(this)" style="background: rgba(255,107,53,0.1); border: 1px solid var(--accent-orange); color: var(--accent-orange); border-radius: 4px; padding: 2px 8px; font-size: 10px; cursor: pointer;">FIX</button>
                            </div>
                        `).join('')}
                    </div>
                    <div id="thumbnailSolveStatus"></div>
                </div>
            `;
            }

            function solveThumbnailIssue(btn) {
                const text = btn.previousElementSibling;
                text.style.color = '#10b981';
                text.querySelector('i').className = 'fas fa-check-circle';
                btn.innerHTML = 'SOLVED';
                btn.disabled = true;
                btn.style.background = 'rgba(16, 185, 129, 0.1)';
                btn.style.borderColor = '#10b981';
                btn.style.color = '#10b981';
                showNotification('Thumbnail element optimized!', 'success');
            }

            async function analyzeTrends() {
                const resultsDiv = document.getElementById('trendAnalysisResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Analyzing trends...</div>';

                const trends = await aiAssistant.analyzeTrends();

                resultsDiv.innerHTML = `
                <div style="margin-top: 16px;">
                    <div style="padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 12px;">
                        <div style="font-size: 13px; font-weight: 700; margin-bottom: 12px; color: var(--accent-orange);">
                            <i class="fas fa-chart-line"></i> Market Sentiment: ${trends.sentiment}
                        </div>
                        <div style="font-size: 13px; font-weight: 600; margin-bottom: 12px;">ðŸ”¥ Trending Topics</div>
                        <div style="display: flex; flex-wrap: wrap; gap: 8px;">
                            ${trends.topics.map(topic => `
                                <span style="padding: 6px 12px; background: rgba(255,255,255,0.05); border: 1px solid var(--border-color); border-radius: 20px; font-size: 11px;">
                                    ${topic}
                                </span>
                            `).join('')}
                        </div>
                    </div>
                    <div style="padding: 12px; background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: 8px;">
                        <div style="font-size: 12px; color: #10b981; font-weight: 600;">
                            <i class="fas fa-check-circle"></i> Strategy Solved:
                        </div>
                        <div style="font-size: 12px; color: var(--text-secondary); margin-top: 4px;">Verified trend-aligned content strategy ready for execution.</div>
                    </div>
                </div>
            `;
            }

            async function optimizeDescription() {
                const input = document.getElementById('descriptionInput').value;
                if (!input) {
                    showNotification('Please enter a description', 'error');
                    return;
                }

                const resultsDiv = document.getElementById('descriptionOptimizationResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Optimizing...</div>';

                const result = await aiAssistant.optimizeDescription(input);

                resultsDiv.innerHTML = `
                <div style="margin-top: 16px;">
                    <div style="padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px;">
                        <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 8px;">SEO Score</div>
                        <div style="display: flex; align-items: center; gap: 12px;">
                            <div style="flex: 1; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
                                <div style="width: ${result.score}%; height: 100%; background: linear-gradient(135deg, #10b981 0%, #34d399 100%);"></div>
                            </div>
                            <span style="font-size: 18px; font-weight: 600;">${result.score}/100</span>
                        </div>
                    </div>
                    <div style="padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; margin-bottom: 12px;">
                        <div style="font-size: 13px; font-weight: 600; margin-bottom: 12px;">Found Issues & Suggestions:</div>
                        ${result.suggestions.map(s => `
                            <div style="padding: 8px 0; font-size: 12px; color: var(--text-secondary);">
                                <i class="fas fa-lightbulb" style="color: #f59e0b; margin-right: 8px;"></i>${s}
                            </div>
                        `).join('')}
                    </div>
                    <button onclick="applyDescriptionSolve('${result.optimizedText.replace(/'/g, "\\'")}')" class="btn-primary" style="width: 100%; padding: 12px; background: #10b981; border: none; border-radius: 8px; color: white; font-weight: 700; cursor: pointer;">
                        <i class="fas fa-magic"></i> Solve & Apply Optimization
                    </button>
                </div>
            `;
            }

            function applyDescriptionSolve(optimizedText) {
                document.getElementById('descriptionInput').value = optimizedText;
                showNotification('ðŸš€ Description solved and optimized!', 'success');
                document.getElementById('descriptionOptimizationResults').innerHTML = `
                    <div style="padding: 16px; background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.2); border-radius: 8px; margin-top: 16px; text-align: center;">
                        <i class="fas fa-check-circle" style="color: #10b981; font-size: 24px; margin-bottom: 8px;"></i>
                        <div style="color: #10b981; font-weight: 700;">Issue Solved Successfully!</div>
                    </div>
                `;
            }

            async function runHealthCheck() {
                const resultsDiv = document.getElementById('healthCheckResults');
                resultsDiv.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Scanning channel content...</div>';

                setTimeout(() => {
                    resultsDiv.innerHTML = `
                        <div style="background: rgba(255,255,255,0.02); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px;">
                            <div style="font-size: 14px; font-weight: 700; margin-bottom: 16px; display: flex; justify-content: space-between;">
                                <span>Diagnosis Report</span>
                                <span style="color: #f59e0b;">3 Issues Found</span>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: rgba(245, 158, 11, 0.05); border: 1px solid rgba(245, 158, 11, 0.1); border-radius: 8px;">
                                    <div style="font-size: 12px;">
                                        <div style="font-weight: 600;">Missing Tags</div>
                                        <div style="color: var(--text-muted);">5 videos have no tags, reducing searchability.</div>
                                    </div>
                                    <button onclick="fixHealthIssue(this, 'Tags generated and applied!')" style="padding: 6px 12px; background: #f59e0b; border: none; border-radius: 4px; color: white; font-size: 11px; cursor: pointer; font-weight: 700;">FIX ALL</button>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: rgba(239, 68, 68, 0.05); border: 1px solid rgba(239, 68, 68, 0.1); border-radius: 8px;">
                                    <div style="font-size: 12px;">
                                        <div style="font-weight: 600;">Low Resolution Thumbnails</div>
                                        <div style="color: var(--text-muted);">2 videos use low-res images.</div>
                                    </div>
                                    <button onclick="fixHealthIssue(this, 'Thumbnails upscaled and updated!')" style="padding: 6px 12px; background: #ef4444; border: none; border-radius: 4px; color: white; font-size: 11px; cursor: pointer; font-weight: 700;">SOLVE</button>
                                </div>
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px; background: rgba(16, 185, 129, 0.05); border: 1px solid rgba(16, 185, 129, 0.1); border-radius: 8px;">
                                    <div style="font-size: 12px;">
                                        <div style="font-weight: 600;">Copyright Risk</div>
                                        <div style="color: var(--text-muted);">Potential risk found in video "V8".</div>
                                    </div>
                                    <button onclick="fixHealthIssue(this, 'Content modified to avoid risk!')" style="padding: 6px 12px; background: #10b981; border: none; border-radius: 4px; color: white; font-size: 11px; cursor: pointer; font-weight: 700;">CHECK & FIX</button>
                                </div>
                            </div>
                        </div>
                    `;
                }, 1500);
            }

            function fixHealthIssue(btn, message) {
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
                btn.disabled = true;
                setTimeout(() => {
                    const row = btn.parentElement;
                    row.style.opacity = '0.5';
                    row.style.background = 'rgba(16, 185, 129, 0.1)';
                    row.style.borderColor = '#10b981';
                    btn.innerHTML = 'SOLVED';
                    btn.style.background = '#10b981';
                    showNotification(message, 'success');
                }, 1500);
            }

            function copyToClipboard(text) {
                navigator.clipboard.writeText(text).then(() => {
                    showNotification('Copied to clipboard!', 'success');
                });
            }

            // ==========================================
            // SMART SCHEDULER
            // ==========================================
            async function loadOptimalTimes() {
                if (!window.smartScheduler) {
                    console.warn('âš ï¸ Smart Scheduler not loaded yet');
                    return;
                }

                const times = await window.smartScheduler.getOptimalUploadTimes();
                const grid = document.getElementById('optimalTimesGrid');

                grid.innerHTML = times.map(time => {
                    const date = new Date(time.date);
                    const dayName = date.toLocaleDateString('en-US', { weekday: 'short' });
                    const timeStr = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });

                    return `
                    <div style="padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px;">
                        <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">${dayName}</div>
                        <div style="font-size: 12px; color: var(--text-muted); margin-bottom: 8px;">${timeStr}</div>
                        <div style="display: flex; align-items: center; gap: 8px;">
                            <div style="flex: 1; height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden;">
                                <div style="width: ${time.score}%; height: 100%; background: var(--accent-gradient);"></div>
                            </div>
                            <span style="font-size: 11px; font-weight: 600;">${time.score}%</span>
                        </div>
                    </div>
                `;
                }).join('');
            }

            function showScheduleModal() {
                showNotification('Schedule feature coming soon!', 'info');
            }

            // ==========================================
            // MONETIZATION PRO
            // ==========================================
            async function analyzeRevenueOpportunities() {
                const div = document.getElementById('revenueOpportunities');
                div.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Analyzing...</div>';

                const opportunities = await window.monetizationOptimizer.analyzeRevenueOpportunities();

                div.innerHTML = opportunities.recommendations.map(opp => `
                <div style="padding: 20px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 16px;">
                    <div style="display: flex; align-items: start; justify-content: space-between; margin-bottom: 12px;">
                        <div>
                            <h5 style="font-size: 15px; font-weight: 600; margin-bottom: 4px; text-transform: capitalize;">${opp.type}</h5>
                            <p style="font-size: 12px; color: var(--text-muted);">${opp.description}</p>
                        </div>
                        <span style="padding: 4px 12px; background: var(--accent-gradient); border-radius: 12px; font-size: 11px; font-weight: 700; white-space: nowrap;">${opp.potential}</span>
                    </div>
                    <div style="display: flex; gap: 16px; font-size: 12px;">
                        <div>
                            <span style="color: var(--text-muted);">Effort:</span>
                            <span style="font-weight: 600; margin-left: 4px;">${opp.effort}</span>
                        </div>
                    </div>
                </div>
            `).join('');
            }

            async function findSponsorships() {
                const div = document.getElementById('sponsorshipMatches');
                div.innerHTML = '<div style="text-align: center; padding: 20px;"><i class="fas fa-spinner fa-spin"></i> Finding matches...</div>';

                const matches = await window.monetizationOptimizer.getSponsorshipMatches();

                div.innerHTML = matches.map(match => `
                <div style="padding: 20px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 16px;">
                    <div style="display: flex; align-items: start; justify-content: space-between; margin-bottom: 12px;">
                        <div>
                            <h5 style="font-size: 15px; font-weight: 600; margin-bottom: 4px;">${match.brand}</h5>
                            <p style="font-size: 12px; color: var(--text-muted);">${match.category}</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 14px; font-weight: 600; color: var(--accent-orange);">${match.budget}</div>
                            <div style="font-size: 11px; color: var(--text-muted);">Match: ${match.match}%</div>
                        </div>
                    </div>
                    <div style="font-size: 12px; color: var(--text-secondary); margin-bottom: 12px;">${match.requirements}</div>
                    <button class="btn-primary" style="width: 100%; padding: 10px; font-size: 13px;">
                        <i class="fas fa-handshake"></i> Apply Now
                    </button>
                </div>
            `).join('');
            }

            // ==========================================
            // COLLABORATION & LIBRARY PLACEHOLDERS
            // ==========================================
            // ==========================================
            // ADVANCED PAGE RENDERERS
            // ==========================================
            function renderLibrary() {
                const grid = document.getElementById('libraryGrid');
                if (!grid || !window.contentLibrary) return;

                const items = window.contentLibrary.getAssets();
                if (items.length > 0) {
                    grid.innerHTML = items.map(item => `
                        <div style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; padding: 12px;">
                            <div style="width: 100%; aspect-ratio: 1; background: #000; border-radius: 8px; margin-bottom: 12px; display: flex; align-items: center; justify-content: center; font-size: 32px;">
                                ${item.type === 'video' ? 'ðŸŽ¬' : item.type === 'audio' ? 'ðŸŽµ' : 'ðŸ–¼ï¸'}
                            </div>
                            <div style="font-size: 13px; font-weight: 600; margin-bottom: 4px;">${item.name}</div>
                            <div style="font-size: 11px; color: var(--text-muted); display: flex; justify-content: space-between;">
                                <span>${item.type.toUpperCase()}</span>
                                <span>${item.size}</span>
                            </div>
                        </div>
                    `).join('');
                }
            }

            function renderABTests() {
                const list = document.getElementById('abTestsList');
                if (!list || !window.abTestingManager) return;

                const tests = window.abTestingManager.getTests();
                if (tests.length > 0) {
                    list.innerHTML = tests.map(test => `
                        <div style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 16px;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
                                <h4 style="font-size: 15px; font-weight: 700;">${test.name}</h4>
                                <span style="padding: 4px 10px; background: rgba(16, 185, 129, 0.1); color: #10b981; border-radius: 4px; font-size: 11px; font-weight: 700;">${test.status.toUpperCase()}</span>
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div style="padding: 12px; background: rgba(255,107,53,0.05); border: 1px solid rgba(255,107,53,0.1); border-radius: 8px;">
                                    <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 4px;">Variant A</div>
                                    <div style="font-size: 13px; font-weight: 600;">${test.variants[0].name}</div>
                                    <div style="font-size: 11px; color: #10b981; margin-top: 4px;">${test.variants[0].performance}% performance</div>
                                </div>
                                <div style="padding: 12px; background: rgba(0,212,255,0.05); border: 1px solid rgba(0,212,255,0.1); border-radius: 8px;">
                                    <div style="font-size: 11px; color: var(--text-muted); margin-bottom: 4px;">Variant B</div>
                                    <div style="font-size: 13px; font-weight: 600;">${test.variants[1].name}</div>
                                    <div style="font-size: 11px; color: #10b981; margin-top: 4px;">${test.variants[1].performance}% performance</div>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }

            function renderScheduledVideos() {
                const list = document.getElementById('scheduledVideosList');
                if (!list || !window.smartScheduler) return;

                const videos = window.smartScheduler.getScheduledVideos();
                if (videos.length > 0) {
                    list.innerHTML = videos.map(v => `
                        <div style="display: flex; gap: 16px; align-items: center; padding: 16px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 12px;">
                            <div style="width: 80px; aspect-ratio: 16/9; background: #000; border-radius: 4px; display: flex; align-items: center; justify-content: center;">
                                <i class="fas fa-play" style="font-size: 12px; opacity: 0.5;"></i>
                            </div>
                            <div style="flex: 1;">
                                <div style="font-size: 14px; font-weight: 600; margin-bottom: 4px;">${v.title}</div>
                                <div style="font-size: 11px; color: var(--text-muted);">
                                    <i class="fas fa-clock"></i> Scheduled for ${new Date(v.scheduledTime).toLocaleString()}
                                </div>
                            </div>
                            <button class="btn-link" style="color: var(--accent-orange);">Reschedule</button>
                        </div>
                    `).join('');
                }
            }

            function renderCollaborators() {
                const list = document.getElementById('collaboratorsList');
                if (!list || !window.collaborationManager) return;

                const members = window.collaborationManager.getTeamMembers();
                if (members.length > 0) {
                    list.innerHTML = members.map(m => `
                        <div style="display: flex; gap: 16px; align-items: center; padding: 12px; background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; margin-bottom: 8px;">
                            <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--accent-gradient); display: flex; align-items: center; justify-content: center; font-weight: 700; color: white;">
                                ${m.name.charAt(0)}
                            </div>
                            <div style="flex: 1;">
                                <div style="font-size: 14px; font-weight: 600;">${m.name}</div>
                                <div style="font-size: 11px; color: var(--text-muted);">${m.role} â€¢ ${m.status}</div>
                            </div>
                            <button class="btn-link" style="color: var(--text-muted);"><i class="fas fa-cog"></i></button>
                        </div>
                    `).join('');
                }
            }

            function showInviteModal() {
                showNotification('Collaboration invitation sent!', 'success');
            }

            function showCreateFolderModal() {
                const name = prompt('Enter folder name:');
                if (name) showNotification(`Folder "${name}" created!`, 'success');
            }

            function showUploadAssetModal() {
                showNotification('Asset upload system ready!', 'info');
            }

            function showCreateTestModal() {
                showNotification('New A/B Test initialization ready!', 'info');
            }

            // ==========================================
            // CHANNEL SETTINGS FUNCTIONS
            // ==========================================
            function saveChannelSettings() {
                console.log('ðŸ’¾ Saving channel settings...');

                try {
                    const settings = {
                        channelName: document.getElementById('settingChannelName')?.value || document.getElementById('channelName')?.value,
                        channelDescription: document.getElementById('settingChannelDesc')?.value || document.getElementById('channelDescription')?.value,
                        channelEmail: document.getElementById('channelEmail')?.value,
                        currency: document.getElementById('settingCurrency')?.value,
                        country: document.getElementById('settingCountry')?.value,
                        keywords: document.getElementById('settingKeywords')?.value,
                        madeForKids: document.querySelector('input[name="madeForKids"]:checked')?.value,
                        defaultVisibility: document.getElementById('settingDefaultVis')?.value,
                        autoChapters: document.getElementById('autoChapters')?.checked,
                        license: document.getElementById('settingLicense')?.value,
                        language: document.getElementById('settingLang')?.value,
                        category: document.getElementById('settingCategory')?.value,
                        comments: document.getElementById('settingComments')?.value,
                        showLikes: document.getElementById('showLikes')?.checked,
                        blockedWords: document.getElementById('settingBlockedWords')?.value,
                        communityMod: document.getElementById('settingCommunityMod')?.value,
                        viewerPosts: document.getElementById('settingViewerPosts')?.value,
                        postMod: document.getElementById('settingPostMod')?.value,
                        whoCanPost: document.getElementById('settingWhoCanPost')?.value,
                        minSubTime: document.getElementById('settingMinSubTime')?.value,
                        holdLinkComments: document.getElementById('holdLinkComments')?.checked
                    };

                    // Save to localStorage
                    localStorage.setItem('bhuban_channel_settings', JSON.stringify(settings));

                    // Update UI if needed
                    if (settings.channelName) {
                        const creatorNames = document.querySelectorAll('.creator-name');
                        creatorNames.forEach(el => el.textContent = settings.channelName);
                    }

                    // Show success message
                    showNotification('Settings saved successfully!', 'success');
                    console.log('âœ… Channel settings saved:', settings);
                } catch (error) {
                    console.error('âŒ Error saving settings:', error);
                    showNotification('Failed to save settings', 'error');
                }
            }

            function loadChannelSettings() {
                console.log('ðŸ“¥ Loading channel settings...');

                try {
                    const savedSettings = localStorage.getItem('bhuban_channel_settings');

                    if (savedSettings) {
                        const settings = JSON.parse(savedSettings);

                        // Basic text/select fields
                        const fieldMap = {
                            'settingChannelName': 'channelName',
                            'channelName': 'channelName',
                            'settingChannelDesc': 'channelDescription',
                            'channelDescription': 'channelDescription',
                            'channelEmail': 'channelEmail',
                            'settingCurrency': 'currency',
                            'settingCountry': 'country',
                            'settingKeywords': 'keywords',
                            'settingDefaultVis': 'defaultVisibility',
                            'settingLicense': 'license',
                            'settingLang': 'language',
                            'settingCategory': 'category',
                            'settingComments': 'comments',
                            'settingBlockedWords': 'blockedWords',
                            'settingCommunityMod': 'communityMod',
                            'settingViewerPosts': 'viewerPosts',
                            'settingPostMod': 'postMod',
                            'settingWhoCanPost': 'whoCanPost',
                            'settingMinSubTime': 'minSubTime'
                        };

                        for (const [id, key] of Object.entries(fieldMap)) {
                            const el = document.getElementById(id);
                            if (el && settings[key] !== undefined) el.value = settings[key];
                        }

                        // Checkboxes
                        if (document.getElementById('autoChapters')) document.getElementById('autoChapters').checked = settings.autoChapters !== false;
                        if (document.getElementById('showLikes')) document.getElementById('showLikes').checked = settings.showLikes !== false;
                        if (document.getElementById('holdLinkComments')) document.getElementById('holdLinkComments').checked = settings.holdLinkComments === true;

                        // Radio buttons
                        if (settings.madeForKids) {
                            const radio = document.querySelector(`input[name="madeForKids"][value="${settings.madeForKids}"]`);
                            if (radio) radio.checked = true;
                        }

                        console.log('âœ… Channel settings loaded:', settings);
                    } else {
                        console.log('â„¹ï¸ No saved settings found, checking Google Account fallback...');
                        const userJson = localStorage.getItem('user');
                        if (userJson) {
                            const user = JSON.parse(userJson);
                            const name = user.name || user.displayName;
                            if (name) {
                                if (document.getElementById('channelName')) document.getElementById('channelName').value = name;
                                if (document.getElementById('settingChannelName')) document.getElementById('settingChannelName').value = name;
                            }
                            if (user.email && document.getElementById('channelEmail')) document.getElementById('channelEmail').value = user.email;
                        }
                    }
                } catch (error) {
                    console.error('âŒ Error loading settings:', error);
                }
            }

            // ==========================================
            // INITIALIZATION
            // ==========================================
            console.log('ðŸ“¦ Defining initializeApp function...');

            function initializeApp() {
                console.log('ðŸš€ Creator Studio initializing...');

                try {
                    loadCreatorProfile(); // SSO Automatic Login
                    initNavigation();
                    initInnerTabs();
                    initCharts();
                    initChartFilters();
                    loadCreatorAnalytics(); // REAL DATA
                    renderVideoList();
                    initSearch();
                    initFilters();
                    initEarnPage();
                    initDragDrop();
                    initLiveStats();
                    updateGoalDisplay();
                    loadChannelSettings(); // Load saved channel settings

                    // Initialize Advanced Feature Pages
                    renderLibrary();
                    renderABTests();
                    renderScheduledVideos();
                    renderCollaborators();

                    // Load optimal times with delay to ensure advanced features are loaded
                    setTimeout(() => {
                        try {
                            loadOptimalTimes();
                        } catch (err) {
                            console.warn('âš ï¸ Could not load optimal times:', err);
                        }
                    }, 500);
                } catch (error) {
                    console.error('âŒ Initialization error:', error);
                }
            }

            // Try both DOMContentLoaded and immediate execution
            console.log('ðŸ” Checking document.readyState:', document.readyState);

            if (document.readyState === 'loading') {
                console.log('â³ Document still loading, waiting for DOMContentLoaded...');
                document.addEventListener('DOMContentLoaded', initializeApp);
            } else {
                // DOM already loaded, run immediately
                console.log('âš¡ DOM already loaded, initializing immediately...');
                initializeApp();
            }

            // Close modals on backdrop click
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('modal')) {
                    e.target.remove();
                }
            });

            // Add animation styles
            const style = document.createElement('style');
            style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
            document.head.appendChild(style);
        }
    </script>

    <!-- Custom Context Menu for Video Rows -->
    <div id="videoContextMenu" class="custom-context-menu">
        <div class="context-menu-item" onclick="handleContextAction('edit')">
            <i class="fas fa-pencil-alt"></i>
            <span>Edit title and description</span>
        </div>
        <div class="context-menu-item" onclick="handleContextAction('link')">
            <i class="fas fa-share-alt"></i>
            <span>Get shareable link</span>
        </div>
        <div class="context-menu-item" onclick="handleContextAction('promote')">
            <i class="fas fa-bullhorn"></i>
            <span>Promote</span>
        </div>
        <div class="context-menu-item" onclick="handleContextAction('download')">
            <i class="fas fa-download"></i>
            <span>Download</span>
        </div>
        <div class="context-menu-item" onclick="handleContextAction('brainstorm')" style="color: #00d4ff;">
            <i class="fas fa-magic"></i>
            <span>Brainstorm video ideas</span>
        </div>
        <div style="height: 1px; background: rgba(255,255,255,0.05); margin: 6px 0;"></div>
        <div class="context-menu-item" onclick="handleContextAction('delete')" style="color: var(--error);">
            <i class="fas fa-trash-alt"></i>
            <span>Delete forever</span>
        </div>
    </div>

    <!-- Premium Delete Backdrop -->
    <div id="deleteModalBackdrop" class="modal-overlay" style="z-index: 3000;">
        <div class="premium-delete-modal"
            style="background: var(--bg-secondary); border-radius: 16px; width: 500px; padding: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.8); border: 1px solid rgba(255,255,255,0.1); position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);">
            <h3 style="font-size: 18px; font-weight: 700; margin-bottom: 24px;">Permanently delete this draft video?
            </h3>

            <div
                style="background: rgba(0,0,0,0.2); border-radius: 12px; padding: 16px; display: flex; gap: 16px; align-items: center; margin-bottom: 24px; border: 1px solid rgba(255,255,255,0.05);">
                <img id="deleteModalThumb" src=""
                    style="width: 140px; aspect-ratio: 16/9; border-radius: 8px; object-fit: cover; background: #000;">
                <div>
                    <div id="deleteModalTitle" style="font-weight: 700; font-size: 14px; margin-bottom: 4px;">V11</div>
                    <div id="deleteModalDate" style="font-size: 11px; color: var(--text-muted);">Uploaded Feb 20, 2026
                    </div>
                    <div id="deleteModalViews" style="font-size: 11px; color: var(--text-muted);">0 views</div>
                </div>
            </div>

            <label style="display: flex; gap: 12px; align-items: flex-start; cursor: pointer; margin-bottom: 32px;">
                <input type="checkbox" id="deleteConfirmCheck"
                    style="margin-top: 4px; accent-color: var(--accent-orange);">
                <span style="font-size: 13px; line-height: 1.5;">I understand that deleting a draft video from Bhuban is
                    permanent and cannot be undone.</span>
            </label>

            <div style="display: flex; justify-content: space-between; align-items: center;">
                <button class="btn-secondary"
                    style="border: none; background: transparent; color: #3b82f6; font-weight: 700; cursor: pointer;">Download
                    video</button>
                <div style="display: flex; gap: 12px;">
                    <button class="btn-secondary" onclick="closeDeleteModal()"
                        style="padding: 10px 24px; border: none; font-weight: 700; color: #3b82f6; cursor: pointer;">CANCEL</button>
                    <button id="finalDeleteBtn" class="btn-primary" disabled
                        style="padding: 10px 24px; font-weight: 700; background: #444; color: #777; cursor: not-allowed; border: none; border-radius: 4px;">DELETE
                        DRAFT VIDEO</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Delete Modal Logic
        const deleteBackdrop = document.getElementById('deleteModalBackdrop');
        const deleteCheck = document.getElementById('deleteConfirmCheck');
        const finalDeleteBtn = document.getElementById('finalDeleteBtn');

        if (deleteCheck) {
            deleteCheck.addEventListener('change', () => {
                if (deleteCheck.checked) {
                    finalDeleteBtn.disabled = false;
                    finalDeleteBtn.style.background = 'white';
                    finalDeleteBtn.style.color = '#000';
                    finalDeleteBtn.style.cursor = 'pointer';
                } else {
                    finalDeleteBtn.disabled = true;
                    finalDeleteBtn.style.background = '#444';
                    finalDeleteBtn.style.color = '#777';
                    finalDeleteBtn.style.cursor = 'not-allowed';
                }
            });
        }

        function openDeleteModal(title, thumb, date, views) {
            if (deleteBackdrop) {
                document.getElementById('deleteModalTitle').textContent = title;
                document.getElementById('deleteModalThumb').src = thumb || '';
                document.getElementById('deleteModalDate').textContent = date || '';
                document.getElementById('deleteModalViews').textContent = views || '0 views';
                deleteBackdrop.classList.add('active');
            }
        }

        function closeDeleteModal() {
            if (deleteBackdrop) {
                deleteBackdrop.classList.remove('active');
                deleteCheck.checked = false;
                finalDeleteBtn.disabled = true;
                finalDeleteBtn.style.background = '#444';
                finalDeleteBtn.style.color = '#777';
            }
        }

        // Context Menu Logic
        let activeContextVideoId = null;

        function showContextMenu(e, videoId) {
            e.preventDefault();
            activeContextVideoId = videoId;
            const menu = document.getElementById('videoContextMenu');
            if (menu) {
                menu.style.display = 'block';

                // Adjust position
                let x = e.clientX;
                let y = e.clientY;

                if (x + 220 > window.innerWidth) x = window.innerWidth - 230;
                if (y + 350 > window.innerHeight) y = window.innerHeight - 360;

                menu.style.left = x + 'px';
                menu.style.top = y + 'px';
            }
        }

        document.addEventListener('click', () => {
            const menu = document.getElementById('videoContextMenu');
            if (menu) menu.style.display = 'none';
        });

        function handleContextAction(action) {
            console.log(`Action ${action} on video ${activeContextVideoId}`);
            if (action === 'delete') {
                // Mock data for demo
                const row = document.querySelector(`[data-video-id="${activeContextVideoId}"]`);
                const title = row ? row.querySelector('.video-title-text')?.textContent : 'V11';
                const thumb = row ? row.querySelector('img')?.src : '';
                const date = row ? row.querySelector('.col-date')?.textContent : 'Feb 20, 2026';
                const views = row ? row.querySelector('.col-views')?.textContent + ' views' : '0 views';

                openDeleteModal(title, thumb, date, views);
            } else if (action === 'brainstorm') {
                showNotification('âœ¨ AI is brainstorming ideas for this video...', 'info');
                setTimeout(() => {
                    showNotification('ðŸš€ Ideas: "A day in life", "Pro setup reveal", "AI Tutorial"', 'success');
                }, 2000);
            } else if (action === 'edit') {
                editVideo(activeContextVideoId);
            }
        }
    </script>
</body>

</html>